function ip(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function ap(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var hd={exports:{}},Ji={},fd={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cs=Symbol.for("react.element"),op=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),up=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),dp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),mp=Symbol.for("react.memo"),gp=Symbol.for("react.lazy"),mu=Symbol.iterator;function vp(e){return e===null||typeof e!="object"?null:(e=mu&&e[mu]||e["@@iterator"],typeof e=="function"?e:null)}var pd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},md=Object.assign,gd={};function xn(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}xn.prototype.isReactComponent={};xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vd(){}vd.prototype=xn.prototype;function ul(e,t,r){this.props=e,this.context=t,this.refs=gd,this.updater=r||pd}var cl=ul.prototype=new vd;cl.constructor=ul;md(cl,xn.prototype);cl.isPureReactComponent=!0;var gu=Array.isArray,yd=Object.prototype.hasOwnProperty,dl={current:null},wd={key:!0,ref:!0,__self:!0,__source:!0};function _d(e,t,r){var n,s={},i=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)yd.call(t,n)&&!wd.hasOwnProperty(n)&&(s[n]=t[n]);var o=arguments.length-2;if(o===1)s.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:Cs,type:e,key:i,ref:a,props:s,_owner:dl.current}}function yp(e,t){return{$$typeof:Cs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Cs}function wp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var vu=/\/+/g;function wa(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wp(""+e.key):t.toString(36)}function li(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Cs:case op:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+wa(a,0):n,gu(s)?(r="",e!=null&&(r=e.replace(vu,"$&/")+"/"),li(s,t,r,"",function(u){return u})):s!=null&&(hl(s)&&(s=yp(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(vu,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",gu(e))for(var o=0;o<e.length;o++){i=e[o];var l=n+wa(i,o);a+=li(i,t,r,l,s)}else if(l=vp(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=n+wa(i,o++),a+=li(i,t,r,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Us(e,t,r){if(e==null)return e;var n=[],s=0;return li(e,n,"","",function(i){return t.call(r,i,s++)}),n}function _p(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pe={current:null},ui={transition:null},Sp={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:ui,ReactCurrentOwner:dl};function Sd(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Us,forEach:function(e,t,r){Us(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Us(e,function(){t++}),t},toArray:function(e){return Us(e,function(t){return t})||[]},only:function(e){if(!hl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};M.Component=xn;M.Fragment=lp;M.Profiler=cp;M.PureComponent=ul;M.StrictMode=up;M.Suspense=pp;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;M.act=Sd;M.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=md({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=dl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)yd.call(t,l)&&!wd.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Cs,type:e.type,key:s,ref:i,props:n,_owner:a}};M.createContext=function(e){return e={$$typeof:hp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:dp,_context:e},e.Consumer=e};M.createElement=_d;M.createFactory=function(e){var t=_d.bind(null,e);return t.type=e,t};M.createRef=function(){return{current:null}};M.forwardRef=function(e){return{$$typeof:fp,render:e}};M.isValidElement=hl;M.lazy=function(e){return{$$typeof:gp,_payload:{_status:-1,_result:e},_init:_p}};M.memo=function(e,t){return{$$typeof:mp,type:e,compare:t===void 0?null:t}};M.startTransition=function(e){var t=ui.transition;ui.transition={};try{e()}finally{ui.transition=t}};M.unstable_act=Sd;M.useCallback=function(e,t){return Pe.current.useCallback(e,t)};M.useContext=function(e){return Pe.current.useContext(e)};M.useDebugValue=function(){};M.useDeferredValue=function(e){return Pe.current.useDeferredValue(e)};M.useEffect=function(e,t){return Pe.current.useEffect(e,t)};M.useId=function(){return Pe.current.useId()};M.useImperativeHandle=function(e,t,r){return Pe.current.useImperativeHandle(e,t,r)};M.useInsertionEffect=function(e,t){return Pe.current.useInsertionEffect(e,t)};M.useLayoutEffect=function(e,t){return Pe.current.useLayoutEffect(e,t)};M.useMemo=function(e,t){return Pe.current.useMemo(e,t)};M.useReducer=function(e,t,r){return Pe.current.useReducer(e,t,r)};M.useRef=function(e){return Pe.current.useRef(e)};M.useState=function(e){return Pe.current.useState(e)};M.useSyncExternalStore=function(e,t,r){return Pe.current.useSyncExternalStore(e,t,r)};M.useTransition=function(){return Pe.current.useTransition()};M.version="18.3.1";fd.exports=M;var k=fd.exports;const kp=ap(k),Ep=ip({__proto__:null,default:kp},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp=k,bp=Symbol.for("react.element"),Tp=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,Op=xp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cp={key:!0,ref:!0,__self:!0,__source:!0};function kd(e,t,r){var n,s={},i=null,a=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Ap.call(t,n)&&!Cp.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:bp,type:e,key:i,ref:a,props:s,_owner:Op.current}}Ji.Fragment=Tp;Ji.jsx=kd;Ji.jsxs=kd;hd.exports=Ji;var h=hd.exports,Ed={exports:{}},qe={},xd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,$){var U=O.length;O.push($);e:for(;0<U;){var Z=U-1>>>1,ue=O[Z];if(0<s(ue,$))O[Z]=$,O[U]=ue,U=Z;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var $=O[0],U=O.pop();if(U!==$){O[0]=U;e:for(var Z=0,ue=O.length,$r=ue>>>1;Z<$r;){var kt=2*(Z+1)-1,Nn=O[kt],P=kt+1,R=O[P];if(0>s(Nn,U))P<ue&&0>s(R,Nn)?(O[Z]=R,O[P]=U,Z=P):(O[Z]=Nn,O[kt]=U,Z=kt);else if(P<ue&&0>s(R,U))O[Z]=R,O[P]=U,Z=P;else break e}}return $}function s(O,$){var U=O.sortIndex-$.sortIndex;return U!==0?U:O.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,d=null,p=3,v=!1,y=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(O){for(var $=r(u);$!==null;){if($.callback===null)n(u);else if($.startTime<=O)n(u),$.sortIndex=$.expirationTime,t(l,$);else break;$=r(u)}}function S(O){if(w=!1,m(O),!y)if(r(l)!==null)y=!0,Be(x);else{var $=r(u);$!==null&&K(S,$.startTime-O)}}function x(O,$){y=!1,w&&(w=!1,g(A),A=-1),v=!0;var U=p;try{for(m($),d=r(l);d!==null&&(!(d.expirationTime>$)||O&&!ke());){var Z=d.callback;if(typeof Z=="function"){d.callback=null,p=d.priorityLevel;var ue=Z(d.expirationTime<=$);$=e.unstable_now(),typeof ue=="function"?d.callback=ue:d===r(l)&&n(l),m($)}else n(l);d=r(l)}if(d!==null)var $r=!0;else{var kt=r(u);kt!==null&&K(S,kt.startTime-$),$r=!1}return $r}finally{d=null,p=U,v=!1}}var E=!1,T=null,A=-1,B=5,D=-1;function ke(){return!(e.unstable_now()-D<B)}function Ye(){if(T!==null){var O=e.unstable_now();D=O;var $=!0;try{$=T(!0,O)}finally{$?Me():(E=!1,T=null)}}else E=!1}var Me;if(typeof f=="function")Me=function(){f(Ye)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,J=C.port2;C.port1.onmessage=Ye,Me=function(){J.postMessage(null)}}else Me=function(){_(Ye,0)};function Be(O){T=O,E||(E=!0,Me())}function K(O,$){A=_(function(){O(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,Be(x))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(O){switch(p){case 1:case 2:case 3:var $=3;break;default:$=p}var U=p;p=$;try{return O()}finally{p=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,$){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var U=p;p=O;try{return $()}finally{p=U}},e.unstable_scheduleCallback=function(O,$,U){var Z=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Z+U:Z):U=Z,O){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=U+ue,O={id:c++,callback:$,priorityLevel:O,startTime:U,expirationTime:ue,sortIndex:-1},U>Z?(O.sortIndex=U,t(u,O),r(l)===null&&O===r(u)&&(w?(g(A),A=-1):w=!0,K(S,U-Z))):(O.sortIndex=ue,t(l,O),y||v||(y=!0,Be(x))),O},e.unstable_shouldYield=ke,e.unstable_wrapCallback=function(O){var $=p;return function(){var U=p;p=$;try{return O.apply(this,arguments)}finally{p=U}}}})(bd);xd.exports=bd;var Np=xd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=k,He=Np;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Td=new Set,ns={};function Ir(e,t){vn(e,t),vn(e+"Capture",t)}function vn(e,t){for(ns[e]=t,e=0;e<t.length;e++)Td.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ro=Object.prototype.hasOwnProperty,jp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yu={},wu={};function Rp(e){return ro.call(wu,e)?!0:ro.call(yu,e)?!1:jp.test(e)?wu[e]=!0:(yu[e]=!0,!1)}function Ip(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lp(e,t,r,n){if(t===null||typeof t>"u"||Ip(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function je(e,t,r,n,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var Se={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Se[e]=new je(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Se[t]=new je(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Se[e]=new je(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Se[e]=new je(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Se[e]=new je(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Se[e]=new je(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Se[e]=new je(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Se[e]=new je(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Se[e]=new je(e,5,!1,e.toLowerCase(),null,!1,!1)});var fl=/[\-:]([a-z])/g;function pl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(fl,pl);Se[t]=new je(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(fl,pl);Se[t]=new je(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(fl,pl);Se[t]=new je(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Se[e]=new je(e,1,!1,e.toLowerCase(),null,!1,!1)});Se.xlinkHref=new je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Se[e]=new je(e,1,!1,e.toLowerCase(),null,!0,!0)});function ml(e,t,r,n){var s=Se.hasOwnProperty(t)?Se[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lp(t,r,s,n)&&(r=null),n||s===null?Rp(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Rt=Pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ms=Symbol.for("react.element"),Yr=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),gl=Symbol.for("react.strict_mode"),no=Symbol.for("react.profiler"),Ad=Symbol.for("react.provider"),Od=Symbol.for("react.context"),vl=Symbol.for("react.forward_ref"),so=Symbol.for("react.suspense"),io=Symbol.for("react.suspense_list"),yl=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),Cd=Symbol.for("react.offscreen"),_u=Symbol.iterator;function Pn(e){return e===null||typeof e!="object"?null:(e=_u&&e[_u]||e["@@iterator"],typeof e=="function"?e:null)}var se=Object.assign,_a;function Fn(e){if(_a===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);_a=t&&t[1]||""}return`
`+_a+e}var Sa=!1;function ka(e,t){if(!e||Sa)return"";Sa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Sa=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Fn(e):""}function $p(e){switch(e.tag){case 5:return Fn(e.type);case 16:return Fn("Lazy");case 13:return Fn("Suspense");case 19:return Fn("SuspenseList");case 0:case 2:case 15:return e=ka(e.type,!1),e;case 11:return e=ka(e.type.render,!1),e;case 1:return e=ka(e.type,!0),e;default:return""}}function ao(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Qr:return"Fragment";case Yr:return"Portal";case no:return"Profiler";case gl:return"StrictMode";case so:return"Suspense";case io:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Od:return(e.displayName||"Context")+".Consumer";case Ad:return(e._context.displayName||"Context")+".Provider";case vl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yl:return t=e.displayName||null,t!==null?t:ao(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return ao(e(t))}catch{}}return null}function Dp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ao(t);case 8:return t===gl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Up(e){var t=Nd(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bs(e){e._valueTracker||(e._valueTracker=Up(e))}function Pd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Nd(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oo(e,t){var r=t.checked;return se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Su(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function jd(e,t){t=t.checked,t!=null&&ml(e,"checked",t,!1)}function lo(e,t){jd(e,t);var r=nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?uo(e,t.type,r):t.hasOwnProperty("defaultValue")&&uo(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ku(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function uo(e,t,r){(t!=="number"||_i(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var zn=Array.isArray;function cn(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function co(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(b(91));return se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Eu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(b(92));if(zn(r)){if(1<r.length)throw Error(b(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nr(r)}}function Rd(e,t){var r=nr(t.value),n=nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Id(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ho(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Id(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fs,Ld=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fs=Fs||document.createElement("div"),Fs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ss(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Gn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mp=["Webkit","ms","Moz","O"];Object.keys(Gn).forEach(function(e){Mp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Gn[t]=Gn[e]})});function $d(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Gn.hasOwnProperty(e)&&Gn[e]?(""+t).trim():t+"px"}function Dd(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$d(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Bp=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(e,t){if(t){if(Bp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(b(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(b(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(b(61))}if(t.style!=null&&typeof t.style!="object")throw Error(b(62))}}function po(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mo=null;function wl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var go=null,dn=null,hn=null;function bu(e){if(e=js(e)){if(typeof go!="function")throw Error(b(280));var t=e.stateNode;t&&(t=ea(t),go(e.stateNode,e.type,t))}}function Ud(e){dn?hn?hn.push(e):hn=[e]:dn=e}function Md(){if(dn){var e=dn,t=hn;if(hn=dn=null,bu(e),t)for(e=0;e<t.length;e++)bu(t[e])}}function Bd(e,t){return e(t)}function Fd(){}var Ea=!1;function zd(e,t,r){if(Ea)return e(t,r);Ea=!0;try{return Bd(e,t,r)}finally{Ea=!1,(dn!==null||hn!==null)&&(Fd(),Md())}}function is(e,t){var r=e.stateNode;if(r===null)return null;var n=ea(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(b(231,t,typeof r));return r}var vo=!1;if(Ct)try{var jn={};Object.defineProperty(jn,"passive",{get:function(){vo=!0}}),window.addEventListener("test",jn,jn),window.removeEventListener("test",jn,jn)}catch{vo=!1}function Fp(e,t,r,n,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Hn=!1,Si=null,ki=!1,yo=null,zp={onError:function(e){Hn=!0,Si=e}};function Wp(e,t,r,n,s,i,a,o,l){Hn=!1,Si=null,Fp.apply(zp,arguments)}function Kp(e,t,r,n,s,i,a,o,l){if(Wp.apply(this,arguments),Hn){if(Hn){var u=Si;Hn=!1,Si=null}else throw Error(b(198));ki||(ki=!0,yo=u)}}function Lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Wd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Tu(e){if(Lr(e)!==e)throw Error(b(188))}function Vp(e){var t=e.alternate;if(!t){if(t=Lr(e),t===null)throw Error(b(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Tu(s),e;if(i===n)return Tu(s),t;i=i.sibling}throw Error(b(188))}if(r.return!==n.return)r=s,n=i;else{for(var a=!1,o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a)throw Error(b(189))}}if(r.alternate!==n)throw Error(b(190))}if(r.tag!==3)throw Error(b(188));return r.stateNode.current===r?e:t}function Kd(e){return e=Vp(e),e!==null?Vd(e):null}function Vd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vd(e);if(t!==null)return t;e=e.sibling}return null}var Gd=He.unstable_scheduleCallback,Au=He.unstable_cancelCallback,Gp=He.unstable_shouldYield,Hp=He.unstable_requestPaint,oe=He.unstable_now,qp=He.unstable_getCurrentPriorityLevel,_l=He.unstable_ImmediatePriority,Hd=He.unstable_UserBlockingPriority,Ei=He.unstable_NormalPriority,Jp=He.unstable_LowPriority,qd=He.unstable_IdlePriority,Yi=null,_t=null;function Yp(e){if(_t&&typeof _t.onCommitFiberRoot=="function")try{_t.onCommitFiberRoot(Yi,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:Zp,Qp=Math.log,Xp=Math.LN2;function Zp(e){return e>>>=0,e===0?32:31-(Qp(e)/Xp|0)|0}var zs=64,Ws=4194304;function Wn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xi(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,a=r&268435455;if(a!==0){var o=a&~s;o!==0?n=Wn(o):(i&=a,i!==0&&(n=Wn(i)))}else a=r&~s,a!==0?n=Wn(a):i!==0&&(n=Wn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-ft(t),s=1<<r,n|=e[r],t&=~s;return n}function em(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tm(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-ft(i),o=1<<a,l=s[a];l===-1?(!(o&r)||o&n)&&(s[a]=em(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jd(){var e=zs;return zs<<=1,!(zs&4194240)&&(zs=64),e}function xa(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ns(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=r}function rm(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-ft(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function Sl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-ft(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var W=0;function Yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qd,kl,Xd,Zd,eh,_o=!1,Ks=[],qt=null,Jt=null,Yt=null,as=new Map,os=new Map,zt=[],nm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(e,t){switch(e){case"focusin":case"focusout":qt=null;break;case"dragenter":case"dragleave":Jt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":as.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(t.pointerId)}}function Rn(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=js(t),t!==null&&kl(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function sm(e,t,r,n,s){switch(t){case"focusin":return qt=Rn(qt,e,t,r,n,s),!0;case"dragenter":return Jt=Rn(Jt,e,t,r,n,s),!0;case"mouseover":return Yt=Rn(Yt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return as.set(i,Rn(as.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,os.set(i,Rn(os.get(i)||null,e,t,r,n,s)),!0}return!1}function th(e){var t=kr(e.target);if(t!==null){var r=Lr(t);if(r!==null){if(t=r.tag,t===13){if(t=Wd(r),t!==null){e.blockedOn=t,eh(e.priority,function(){Xd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ci(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=So(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mo=n,r.target.dispatchEvent(n),mo=null}else return t=js(r),t!==null&&kl(t),e.blockedOn=r,!1;t.shift()}return!0}function Cu(e,t,r){ci(e)&&r.delete(t)}function im(){_o=!1,qt!==null&&ci(qt)&&(qt=null),Jt!==null&&ci(Jt)&&(Jt=null),Yt!==null&&ci(Yt)&&(Yt=null),as.forEach(Cu),os.forEach(Cu)}function In(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,He.unstable_scheduleCallback(He.unstable_NormalPriority,im)))}function ls(e){function t(s){return In(s,e)}if(0<Ks.length){In(Ks[0],e);for(var r=1;r<Ks.length;r++){var n=Ks[r];n.blockedOn===e&&(n.blockedOn=null)}}for(qt!==null&&In(qt,e),Jt!==null&&In(Jt,e),Yt!==null&&In(Yt,e),as.forEach(t),os.forEach(t),r=0;r<zt.length;r++)n=zt[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<zt.length&&(r=zt[0],r.blockedOn===null);)th(r),r.blockedOn===null&&zt.shift()}var fn=Rt.ReactCurrentBatchConfig,bi=!0;function am(e,t,r,n){var s=W,i=fn.transition;fn.transition=null;try{W=1,El(e,t,r,n)}finally{W=s,fn.transition=i}}function om(e,t,r,n){var s=W,i=fn.transition;fn.transition=null;try{W=4,El(e,t,r,n)}finally{W=s,fn.transition=i}}function El(e,t,r,n){if(bi){var s=So(e,t,r,n);if(s===null)Ia(e,t,n,Ti,r),Ou(e,n);else if(sm(s,e,t,r,n))n.stopPropagation();else if(Ou(e,n),t&4&&-1<nm.indexOf(e)){for(;s!==null;){var i=js(s);if(i!==null&&Qd(i),i=So(e,t,r,n),i===null&&Ia(e,t,n,Ti,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ia(e,t,n,null,r)}}var Ti=null;function So(e,t,r,n){if(Ti=null,e=wl(n),e=kr(e),e!==null)if(t=Lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Wd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ti=e,null}function rh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qp()){case _l:return 1;case Hd:return 4;case Ei:case Jp:return 16;case qd:return 536870912;default:return 16}default:return 16}}var Vt=null,xl=null,di=null;function nh(){if(di)return di;var e,t=xl,r=t.length,n,s="value"in Vt?Vt.value:Vt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[i-n];n++);return di=s.slice(e,1<n?1-n:void 0)}function hi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vs(){return!0}function Nu(){return!1}function Je(e){function t(r,n,s,i,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Vs:Nu,this.isPropagationStopped=Nu,this}return se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vs)},persist:function(){},isPersistent:Vs}),t}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bl=Je(bn),Ps=se({},bn,{view:0,detail:0}),lm=Je(Ps),ba,Ta,Ln,Qi=se({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ln&&(Ln&&e.type==="mousemove"?(ba=e.screenX-Ln.screenX,Ta=e.screenY-Ln.screenY):Ta=ba=0,Ln=e),ba)},movementY:function(e){return"movementY"in e?e.movementY:Ta}}),Pu=Je(Qi),um=se({},Qi,{dataTransfer:0}),cm=Je(um),dm=se({},Ps,{relatedTarget:0}),Aa=Je(dm),hm=se({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),fm=Je(hm),pm=se({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mm=Je(pm),gm=se({},bn,{data:0}),ju=Je(gm),vm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ym={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wm[e])?!!t[e]:!1}function Tl(){return _m}var Sm=se({},Ps,{key:function(e){if(e.key){var t=vm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ym[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(e){return e.type==="keypress"?hi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),km=Je(Sm),Em=se({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ru=Je(Em),xm=se({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),bm=Je(xm),Tm=se({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Am=Je(Tm),Om=se({},Qi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cm=Je(Om),Nm=[9,13,27,32],Al=Ct&&"CompositionEvent"in window,qn=null;Ct&&"documentMode"in document&&(qn=document.documentMode);var Pm=Ct&&"TextEvent"in window&&!qn,sh=Ct&&(!Al||qn&&8<qn&&11>=qn),Iu=" ",Lu=!1;function ih(e,t){switch(e){case"keyup":return Nm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ah(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xr=!1;function jm(e,t){switch(e){case"compositionend":return ah(t);case"keypress":return t.which!==32?null:(Lu=!0,Iu);case"textInput":return e=t.data,e===Iu&&Lu?null:e;default:return null}}function Rm(e,t){if(Xr)return e==="compositionend"||!Al&&ih(e,t)?(e=nh(),di=xl=Vt=null,Xr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sh&&t.locale!=="ko"?null:t.data;default:return null}}var Im={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Im[e.type]:t==="textarea"}function oh(e,t,r,n){Ud(n),t=Ai(t,"onChange"),0<t.length&&(r=new bl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Jn=null,us=null;function Lm(e){yh(e,0)}function Xi(e){var t=tn(e);if(Pd(t))return e}function $m(e,t){if(e==="change")return t}var lh=!1;if(Ct){var Oa;if(Ct){var Ca="oninput"in document;if(!Ca){var Du=document.createElement("div");Du.setAttribute("oninput","return;"),Ca=typeof Du.oninput=="function"}Oa=Ca}else Oa=!1;lh=Oa&&(!document.documentMode||9<document.documentMode)}function Uu(){Jn&&(Jn.detachEvent("onpropertychange",uh),us=Jn=null)}function uh(e){if(e.propertyName==="value"&&Xi(us)){var t=[];oh(t,us,e,wl(e)),zd(Lm,t)}}function Dm(e,t,r){e==="focusin"?(Uu(),Jn=t,us=r,Jn.attachEvent("onpropertychange",uh)):e==="focusout"&&Uu()}function Um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(us)}function Mm(e,t){if(e==="click")return Xi(t)}function Bm(e,t){if(e==="input"||e==="change")return Xi(t)}function Fm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:Fm;function cs(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ro.call(t,s)||!mt(e[s],t[s]))return!1}return!0}function Mu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bu(e,t){var r=Mu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mu(r)}}function ch(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ch(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dh(){for(var e=window,t=_i();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=_i(e.document)}return t}function Ol(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function zm(e){var t=dh(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&ch(r.ownerDocument.documentElement,r)){if(n!==null&&Ol(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Bu(r,i);var a=Bu(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Wm=Ct&&"documentMode"in document&&11>=document.documentMode,Zr=null,ko=null,Yn=null,Eo=!1;function Fu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Eo||Zr==null||Zr!==_i(n)||(n=Zr,"selectionStart"in n&&Ol(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yn&&cs(Yn,n)||(Yn=n,n=Ai(ko,"onSelect"),0<n.length&&(t=new bl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Zr)))}function Gs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var en={animationend:Gs("Animation","AnimationEnd"),animationiteration:Gs("Animation","AnimationIteration"),animationstart:Gs("Animation","AnimationStart"),transitionend:Gs("Transition","TransitionEnd")},Na={},hh={};Ct&&(hh=document.createElement("div").style,"AnimationEvent"in window||(delete en.animationend.animation,delete en.animationiteration.animation,delete en.animationstart.animation),"TransitionEvent"in window||delete en.transitionend.transition);function Zi(e){if(Na[e])return Na[e];if(!en[e])return e;var t=en[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in hh)return Na[e]=t[r];return e}var fh=Zi("animationend"),ph=Zi("animationiteration"),mh=Zi("animationstart"),gh=Zi("transitionend"),vh=new Map,zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ar(e,t){vh.set(e,t),Ir(t,[e])}for(var Pa=0;Pa<zu.length;Pa++){var ja=zu[Pa],Km=ja.toLowerCase(),Vm=ja[0].toUpperCase()+ja.slice(1);ar(Km,"on"+Vm)}ar(fh,"onAnimationEnd");ar(ph,"onAnimationIteration");ar(mh,"onAnimationStart");ar("dblclick","onDoubleClick");ar("focusin","onFocus");ar("focusout","onBlur");ar(gh,"onTransitionEnd");vn("onMouseEnter",["mouseout","mouseover"]);vn("onMouseLeave",["mouseout","mouseover"]);vn("onPointerEnter",["pointerout","pointerover"]);vn("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kn));function Wu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kp(n,t,void 0,e),e.currentTarget=null}function yh(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Wu(s,o,u),i=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Wu(s,o,u),i=l}}}if(ki)throw e=yo,ki=!1,yo=null,e}function Q(e,t){var r=t[Oo];r===void 0&&(r=t[Oo]=new Set);var n=e+"__bubble";r.has(n)||(wh(t,e,2,!1),r.add(n))}function Ra(e,t,r){var n=0;t&&(n|=4),wh(r,e,n,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function ds(e){if(!e[Hs]){e[Hs]=!0,Td.forEach(function(r){r!=="selectionchange"&&(Gm.has(r)||Ra(r,!1,e),Ra(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,Ra("selectionchange",!1,t))}}function wh(e,t,r,n){switch(rh(t)){case 1:var s=am;break;case 4:s=om;break;default:s=El}r=s.bind(null,t,r,e),s=void 0,!vo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ia(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=kr(o),a===null)return;if(l=a.tag,l===5||l===6){n=i=a;continue e}o=o.parentNode}}n=n.return}zd(function(){var u=i,c=wl(r),d=[];e:{var p=vh.get(e);if(p!==void 0){var v=bl,y=e;switch(e){case"keypress":if(hi(r)===0)break e;case"keydown":case"keyup":v=km;break;case"focusin":y="focus",v=Aa;break;case"focusout":y="blur",v=Aa;break;case"beforeblur":case"afterblur":v=Aa;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=cm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bm;break;case fh:case ph:case mh:v=fm;break;case gh:v=Am;break;case"scroll":v=lm;break;case"wheel":v=Cm;break;case"copy":case"cut":case"paste":v=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ru}var w=(t&4)!==0,_=!w&&e==="scroll",g=w?p!==null?p+"Capture":null:p;w=[];for(var f=u,m;f!==null;){m=f;var S=m.stateNode;if(m.tag===5&&S!==null&&(m=S,g!==null&&(S=is(f,g),S!=null&&w.push(hs(f,S,m)))),_)break;f=f.return}0<w.length&&(p=new v(p,y,null,r,c),d.push({event:p,listeners:w}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",p&&r!==mo&&(y=r.relatedTarget||r.fromElement)&&(kr(y)||y[Nt]))break e;if((v||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=u,y=y?kr(y):null,y!==null&&(_=Lr(y),y!==_||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=u),v!==y)){if(w=Pu,S="onMouseLeave",g="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(w=Ru,S="onPointerLeave",g="onPointerEnter",f="pointer"),_=v==null?p:tn(v),m=y==null?p:tn(y),p=new w(S,f+"leave",v,r,c),p.target=_,p.relatedTarget=m,S=null,kr(c)===u&&(w=new w(g,f+"enter",y,r,c),w.target=m,w.relatedTarget=_,S=w),_=S,v&&y)t:{for(w=v,g=y,f=0,m=w;m;m=Ur(m))f++;for(m=0,S=g;S;S=Ur(S))m++;for(;0<f-m;)w=Ur(w),f--;for(;0<m-f;)g=Ur(g),m--;for(;f--;){if(w===g||g!==null&&w===g.alternate)break t;w=Ur(w),g=Ur(g)}w=null}else w=null;v!==null&&Ku(d,p,v,w,!1),y!==null&&_!==null&&Ku(d,_,y,w,!0)}}e:{if(p=u?tn(u):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var x=$m;else if($u(p))if(lh)x=Bm;else{x=Um;var E=Dm}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(x=Mm);if(x&&(x=x(e,u))){oh(d,x,r,c);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&uo(p,"number",p.value)}switch(E=u?tn(u):window,e){case"focusin":($u(E)||E.contentEditable==="true")&&(Zr=E,ko=u,Yn=null);break;case"focusout":Yn=ko=Zr=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,Fu(d,r,c);break;case"selectionchange":if(Wm)break;case"keydown":case"keyup":Fu(d,r,c)}var T;if(Al)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Xr?ih(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(sh&&r.locale!=="ko"&&(Xr||A!=="onCompositionStart"?A==="onCompositionEnd"&&Xr&&(T=nh()):(Vt=c,xl="value"in Vt?Vt.value:Vt.textContent,Xr=!0)),E=Ai(u,A),0<E.length&&(A=new ju(A,e,null,r,c),d.push({event:A,listeners:E}),T?A.data=T:(T=ah(r),T!==null&&(A.data=T)))),(T=Pm?jm(e,r):Rm(e,r))&&(u=Ai(u,"onBeforeInput"),0<u.length&&(c=new ju("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=T))}yh(d,t)})}function hs(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ai(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=is(e,r),i!=null&&n.unshift(hs(e,i,s)),i=is(e,t),i!=null&&n.push(hs(e,i,s))),e=e.return}return n}function Ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ku(e,t,r,n,s){for(var i=t._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,s?(l=is(r,i),l!=null&&a.unshift(hs(r,l,o))):s||(l=is(r,i),l!=null&&a.push(hs(r,l,o)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var Hm=/\r\n?/g,qm=/\u0000|\uFFFD/g;function Vu(e){return(typeof e=="string"?e:""+e).replace(Hm,`
`).replace(qm,"")}function qs(e,t,r){if(t=Vu(t),Vu(e)!==t&&r)throw Error(b(425))}function Oi(){}var xo=null,bo=null;function To(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ao=typeof setTimeout=="function"?setTimeout:void 0,Jm=typeof clearTimeout=="function"?clearTimeout:void 0,Gu=typeof Promise=="function"?Promise:void 0,Ym=typeof queueMicrotask=="function"?queueMicrotask:typeof Gu<"u"?function(e){return Gu.resolve(null).then(e).catch(Qm)}:Ao;function Qm(e){setTimeout(function(){throw e})}function La(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ls(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ls(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Tn=Math.random().toString(36).slice(2),wt="__reactFiber$"+Tn,fs="__reactProps$"+Tn,Nt="__reactContainer$"+Tn,Oo="__reactEvents$"+Tn,Xm="__reactListeners$"+Tn,Zm="__reactHandles$"+Tn;function kr(e){var t=e[wt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Nt]||r[wt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hu(e);e!==null;){if(r=e[wt])return r;e=Hu(e)}return t}e=r,r=e.parentNode}return null}function js(e){return e=e[wt]||e[Nt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(b(33))}function ea(e){return e[fs]||null}var Co=[],rn=-1;function or(e){return{current:e}}function X(e){0>rn||(e.current=Co[rn],Co[rn]=null,rn--)}function q(e,t){rn++,Co[rn]=e.current,e.current=t}var sr={},Te=or(sr),$e=or(!1),Cr=sr;function yn(e,t){var r=e.type.contextTypes;if(!r)return sr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function De(e){return e=e.childContextTypes,e!=null}function Ci(){X($e),X(Te)}function qu(e,t,r){if(Te.current!==sr)throw Error(b(168));q(Te,t),q($e,r)}function _h(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(b(108,Dp(e)||"Unknown",s));return se({},r,n)}function Ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||sr,Cr=Te.current,q(Te,e),q($e,$e.current),!0}function Ju(e,t,r){var n=e.stateNode;if(!n)throw Error(b(169));r?(e=_h(e,t,Cr),n.__reactInternalMemoizedMergedChildContext=e,X($e),X(Te),q(Te,e)):X($e),q($e,r)}var bt=null,ta=!1,$a=!1;function Sh(e){bt===null?bt=[e]:bt.push(e)}function eg(e){ta=!0,Sh(e)}function lr(){if(!$a&&bt!==null){$a=!0;var e=0,t=W;try{var r=bt;for(W=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}bt=null,ta=!1}catch(s){throw bt!==null&&(bt=bt.slice(e+1)),Gd(_l,lr),s}finally{W=t,$a=!1}}return null}var nn=[],sn=0,Pi=null,ji=0,Ze=[],et=0,Nr=null,Tt=1,At="";function mr(e,t){nn[sn++]=ji,nn[sn++]=Pi,Pi=e,ji=t}function kh(e,t,r){Ze[et++]=Tt,Ze[et++]=At,Ze[et++]=Nr,Nr=e;var n=Tt;e=At;var s=32-ft(n)-1;n&=~(1<<s),r+=1;var i=32-ft(t)+s;if(30<i){var a=s-s%5;i=(n&(1<<a)-1).toString(32),n>>=a,s-=a,Tt=1<<32-ft(t)+s|r<<s|n,At=i+e}else Tt=1<<i|r<<s|n,At=e}function Cl(e){e.return!==null&&(mr(e,1),kh(e,1,0))}function Nl(e){for(;e===Pi;)Pi=nn[--sn],nn[sn]=null,ji=nn[--sn],nn[sn]=null;for(;e===Nr;)Nr=Ze[--et],Ze[et]=null,At=Ze[--et],Ze[et]=null,Tt=Ze[--et],Ze[et]=null}var Ge=null,Ve=null,ee=!1,ht=null;function Eh(e,t){var r=rt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Yu(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ge=e,Ve=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ge=e,Ve=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Nr!==null?{id:Tt,overflow:At}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=rt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ge=e,Ve=null,!0):!1;default:return!1}}function No(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Po(e){if(ee){var t=Ve;if(t){var r=t;if(!Yu(e,t)){if(No(e))throw Error(b(418));t=Qt(r.nextSibling);var n=Ge;t&&Yu(e,t)?Eh(n,r):(e.flags=e.flags&-4097|2,ee=!1,Ge=e)}}else{if(No(e))throw Error(b(418));e.flags=e.flags&-4097|2,ee=!1,Ge=e}}}function Qu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ge=e}function Js(e){if(e!==Ge)return!1;if(!ee)return Qu(e),ee=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!To(e.type,e.memoizedProps)),t&&(t=Ve)){if(No(e))throw xh(),Error(b(418));for(;t;)Eh(e,t),t=Qt(t.nextSibling)}if(Qu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(b(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ve=Qt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ve=null}}else Ve=Ge?Qt(e.stateNode.nextSibling):null;return!0}function xh(){for(var e=Ve;e;)e=Qt(e.nextSibling)}function wn(){Ve=Ge=null,ee=!1}function Pl(e){ht===null?ht=[e]:ht.push(e)}var tg=Rt.ReactCurrentBatchConfig;function $n(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(b(309));var n=r.stateNode}if(!n)throw Error(b(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(b(284));if(!r._owner)throw Error(b(290,e))}return e}function Ys(e,t){throw e=Object.prototype.toString.call(t),Error(b(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xu(e){var t=e._init;return t(e._payload)}function bh(e){function t(g,f){if(e){var m=g.deletions;m===null?(g.deletions=[f],g.flags|=16):m.push(f)}}function r(g,f){if(!e)return null;for(;f!==null;)t(g,f),f=f.sibling;return null}function n(g,f){for(g=new Map;f!==null;)f.key!==null?g.set(f.key,f):g.set(f.index,f),f=f.sibling;return g}function s(g,f){return g=tr(g,f),g.index=0,g.sibling=null,g}function i(g,f,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<f?(g.flags|=2,f):m):(g.flags|=2,f)):(g.flags|=1048576,f)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,f,m,S){return f===null||f.tag!==6?(f=Wa(m,g.mode,S),f.return=g,f):(f=s(f,m),f.return=g,f)}function l(g,f,m,S){var x=m.type;return x===Qr?c(g,f,m.props.children,S,m.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Mt&&Xu(x)===f.type)?(S=s(f,m.props),S.ref=$n(g,f,m),S.return=g,S):(S=wi(m.type,m.key,m.props,null,g.mode,S),S.ref=$n(g,f,m),S.return=g,S)}function u(g,f,m,S){return f===null||f.tag!==4||f.stateNode.containerInfo!==m.containerInfo||f.stateNode.implementation!==m.implementation?(f=Ka(m,g.mode,S),f.return=g,f):(f=s(f,m.children||[]),f.return=g,f)}function c(g,f,m,S,x){return f===null||f.tag!==7?(f=Or(m,g.mode,S,x),f.return=g,f):(f=s(f,m),f.return=g,f)}function d(g,f,m){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Wa(""+f,g.mode,m),f.return=g,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Ms:return m=wi(f.type,f.key,f.props,null,g.mode,m),m.ref=$n(g,null,f),m.return=g,m;case Yr:return f=Ka(f,g.mode,m),f.return=g,f;case Mt:var S=f._init;return d(g,S(f._payload),m)}if(zn(f)||Pn(f))return f=Or(f,g.mode,m,null),f.return=g,f;Ys(g,f)}return null}function p(g,f,m,S){var x=f!==null?f.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return x!==null?null:o(g,f,""+m,S);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ms:return m.key===x?l(g,f,m,S):null;case Yr:return m.key===x?u(g,f,m,S):null;case Mt:return x=m._init,p(g,f,x(m._payload),S)}if(zn(m)||Pn(m))return x!==null?null:c(g,f,m,S,null);Ys(g,m)}return null}function v(g,f,m,S,x){if(typeof S=="string"&&S!==""||typeof S=="number")return g=g.get(m)||null,o(f,g,""+S,x);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ms:return g=g.get(S.key===null?m:S.key)||null,l(f,g,S,x);case Yr:return g=g.get(S.key===null?m:S.key)||null,u(f,g,S,x);case Mt:var E=S._init;return v(g,f,m,E(S._payload),x)}if(zn(S)||Pn(S))return g=g.get(m)||null,c(f,g,S,x,null);Ys(f,S)}return null}function y(g,f,m,S){for(var x=null,E=null,T=f,A=f=0,B=null;T!==null&&A<m.length;A++){T.index>A?(B=T,T=null):B=T.sibling;var D=p(g,T,m[A],S);if(D===null){T===null&&(T=B);break}e&&T&&D.alternate===null&&t(g,T),f=i(D,f,A),E===null?x=D:E.sibling=D,E=D,T=B}if(A===m.length)return r(g,T),ee&&mr(g,A),x;if(T===null){for(;A<m.length;A++)T=d(g,m[A],S),T!==null&&(f=i(T,f,A),E===null?x=T:E.sibling=T,E=T);return ee&&mr(g,A),x}for(T=n(g,T);A<m.length;A++)B=v(T,g,A,m[A],S),B!==null&&(e&&B.alternate!==null&&T.delete(B.key===null?A:B.key),f=i(B,f,A),E===null?x=B:E.sibling=B,E=B);return e&&T.forEach(function(ke){return t(g,ke)}),ee&&mr(g,A),x}function w(g,f,m,S){var x=Pn(m);if(typeof x!="function")throw Error(b(150));if(m=x.call(m),m==null)throw Error(b(151));for(var E=x=null,T=f,A=f=0,B=null,D=m.next();T!==null&&!D.done;A++,D=m.next()){T.index>A?(B=T,T=null):B=T.sibling;var ke=p(g,T,D.value,S);if(ke===null){T===null&&(T=B);break}e&&T&&ke.alternate===null&&t(g,T),f=i(ke,f,A),E===null?x=ke:E.sibling=ke,E=ke,T=B}if(D.done)return r(g,T),ee&&mr(g,A),x;if(T===null){for(;!D.done;A++,D=m.next())D=d(g,D.value,S),D!==null&&(f=i(D,f,A),E===null?x=D:E.sibling=D,E=D);return ee&&mr(g,A),x}for(T=n(g,T);!D.done;A++,D=m.next())D=v(T,g,A,D.value,S),D!==null&&(e&&D.alternate!==null&&T.delete(D.key===null?A:D.key),f=i(D,f,A),E===null?x=D:E.sibling=D,E=D);return e&&T.forEach(function(Ye){return t(g,Ye)}),ee&&mr(g,A),x}function _(g,f,m,S){if(typeof m=="object"&&m!==null&&m.type===Qr&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case Ms:e:{for(var x=m.key,E=f;E!==null;){if(E.key===x){if(x=m.type,x===Qr){if(E.tag===7){r(g,E.sibling),f=s(E,m.props.children),f.return=g,g=f;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Mt&&Xu(x)===E.type){r(g,E.sibling),f=s(E,m.props),f.ref=$n(g,E,m),f.return=g,g=f;break e}r(g,E);break}else t(g,E);E=E.sibling}m.type===Qr?(f=Or(m.props.children,g.mode,S,m.key),f.return=g,g=f):(S=wi(m.type,m.key,m.props,null,g.mode,S),S.ref=$n(g,f,m),S.return=g,g=S)}return a(g);case Yr:e:{for(E=m.key;f!==null;){if(f.key===E)if(f.tag===4&&f.stateNode.containerInfo===m.containerInfo&&f.stateNode.implementation===m.implementation){r(g,f.sibling),f=s(f,m.children||[]),f.return=g,g=f;break e}else{r(g,f);break}else t(g,f);f=f.sibling}f=Ka(m,g.mode,S),f.return=g,g=f}return a(g);case Mt:return E=m._init,_(g,f,E(m._payload),S)}if(zn(m))return y(g,f,m,S);if(Pn(m))return w(g,f,m,S);Ys(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,f!==null&&f.tag===6?(r(g,f.sibling),f=s(f,m),f.return=g,g=f):(r(g,f),f=Wa(m,g.mode,S),f.return=g,g=f),a(g)):r(g,f)}return _}var _n=bh(!0),Th=bh(!1),Ri=or(null),Ii=null,an=null,jl=null;function Rl(){jl=an=Ii=null}function Il(e){var t=Ri.current;X(Ri),e._currentValue=t}function jo(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function pn(e,t){Ii=e,jl=an=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Le=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(jl!==e)if(e={context:e,memoizedValue:t,next:null},an===null){if(Ii===null)throw Error(b(308));an=e,Ii.dependencies={lanes:0,firstContext:e}}else an=an.next=e;return t}var Er=null;function Ll(e){Er===null?Er=[e]:Er.push(e)}function Ah(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Ll(t)):(r.next=s.next,s.next=r),t.interleaved=r,Pt(e,n)}function Pt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bt=!1;function $l(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ot(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Pt(e,r)}return s=n.interleaved,s===null?(t.next=t,Ll(n)):(t.next=s.next,s.next=t),n.interleaved=t,Pt(e,r)}function fi(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sl(e,r)}}function Zu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=a:i=i.next=a,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Li(e,t,r,n){var s=e.updateQueue;Bt=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var c=e.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;a=0,c=u=l=null,o=i;do{var p=o.lane,v=o.eventTime;if((n&p)===p){c!==null&&(c=c.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=e,w=o;switch(p=t,v=r,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(v,d,p);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(v,d,p):y,p==null)break e;d=se({},d,p);break e;case 2:Bt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[o]:p.push(o))}else v={eventTime:v,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=v,l=d):c=c.next=v,a|=p;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;p=o,o=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);jr|=a,e.lanes=a,e.memoizedState=d}}function ec(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(b(191,s));s.call(n)}}}var Rs={},St=or(Rs),ps=or(Rs),ms=or(Rs);function xr(e){if(e===Rs)throw Error(b(174));return e}function Dl(e,t){switch(q(ms,t),q(ps,e),q(St,Rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ho(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ho(t,e)}X(St),q(St,t)}function Sn(){X(St),X(ps),X(ms)}function Ch(e){xr(ms.current);var t=xr(St.current),r=ho(t,e.type);t!==r&&(q(ps,e),q(St,r))}function Ul(e){ps.current===e&&(X(St),X(ps))}var re=or(0);function $i(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Da=[];function Ml(){for(var e=0;e<Da.length;e++)Da[e]._workInProgressVersionPrimary=null;Da.length=0}var pi=Rt.ReactCurrentDispatcher,Ua=Rt.ReactCurrentBatchConfig,Pr=0,ne=null,fe=null,me=null,Di=!1,Qn=!1,gs=0,rg=0;function Ee(){throw Error(b(321))}function Bl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!mt(e[r],t[r]))return!1;return!0}function Fl(e,t,r,n,s,i){if(Pr=i,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,pi.current=e===null||e.memoizedState===null?ag:og,e=r(n,s),Qn){i=0;do{if(Qn=!1,gs=0,25<=i)throw Error(b(301));i+=1,me=fe=null,t.updateQueue=null,pi.current=lg,e=r(n,s)}while(Qn)}if(pi.current=Ui,t=fe!==null&&fe.next!==null,Pr=0,me=fe=ne=null,Di=!1,t)throw Error(b(300));return e}function zl(){var e=gs!==0;return gs=0,e}function yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=e:me=me.next=e,me}function it(){if(fe===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=fe.next;var t=me===null?ne.memoizedState:me.next;if(t!==null)me=t,fe=e;else{if(e===null)throw Error(b(310));fe=e,e={memoizedState:fe.memoizedState,baseState:fe.baseState,baseQueue:fe.baseQueue,queue:fe.queue,next:null},me===null?ne.memoizedState=me=e:me=me.next=e}return me}function vs(e,t){return typeof t=="function"?t(e):t}function Ma(e){var t=it(),r=t.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=e;var n=fe,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var o=a=null,l=null,u=i;do{var c=u.lane;if((Pr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,ne.lanes|=c,jr|=c}u=u.next}while(u!==null&&u!==i);l===null?a=n:l.next=o,mt(n,t.memoizedState)||(Le=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,ne.lanes|=i,jr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ba(e){var t=it(),r=t.queue;if(r===null)throw Error(b(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);mt(i,t.memoizedState)||(Le=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function Nh(){}function Ph(e,t){var r=ne,n=it(),s=t(),i=!mt(n.memoizedState,s);if(i&&(n.memoizedState=s,Le=!0),n=n.queue,Wl(Ih.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(r.flags|=2048,ys(9,Rh.bind(null,r,n,s,t),void 0,null),ge===null)throw Error(b(349));Pr&30||jh(r,t,s)}return s}function jh(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rh(e,t,r,n){t.value=r,t.getSnapshot=n,Lh(t)&&$h(e)}function Ih(e,t,r){return r(function(){Lh(t)&&$h(e)})}function Lh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!mt(e,r)}catch{return!0}}function $h(e){var t=Pt(e,1);t!==null&&pt(t,e,1,-1)}function tc(e){var t=yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=ig.bind(null,ne,e),[t.memoizedState,e]}function ys(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Dh(){return it().memoizedState}function mi(e,t,r,n){var s=yt();ne.flags|=e,s.memoizedState=ys(1|t,r,void 0,n===void 0?null:n)}function ra(e,t,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(fe!==null){var a=fe.memoizedState;if(i=a.destroy,n!==null&&Bl(n,a.deps)){s.memoizedState=ys(t,r,i,n);return}}ne.flags|=e,s.memoizedState=ys(1|t,r,i,n)}function rc(e,t){return mi(8390656,8,e,t)}function Wl(e,t){return ra(2048,8,e,t)}function Uh(e,t){return ra(4,2,e,t)}function Mh(e,t){return ra(4,4,e,t)}function Bh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fh(e,t,r){return r=r!=null?r.concat([e]):null,ra(4,4,Bh.bind(null,t,e),r)}function Kl(){}function zh(e,t){var r=it();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Wh(e,t){var r=it();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Bl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Kh(e,t,r){return Pr&21?(mt(r,t)||(r=Jd(),ne.lanes|=r,jr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Le=!0),e.memoizedState=r)}function ng(e,t){var r=W;W=r!==0&&4>r?r:4,e(!0);var n=Ua.transition;Ua.transition={};try{e(!1),t()}finally{W=r,Ua.transition=n}}function Vh(){return it().memoizedState}function sg(e,t,r){var n=er(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gh(e))Hh(t,r);else if(r=Ah(e,t,r,n),r!==null){var s=Ne();pt(r,e,n,s),qh(r,t,n)}}function ig(e,t,r){var n=er(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gh(e))Hh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,r);if(s.hasEagerState=!0,s.eagerState=o,mt(o,a)){var l=t.interleaved;l===null?(s.next=s,Ll(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=Ah(e,t,s,n),r!==null&&(s=Ne(),pt(r,e,n,s),qh(r,t,n))}}function Gh(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Hh(e,t){Qn=Di=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function qh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sl(e,r)}}var Ui={readContext:st,useCallback:Ee,useContext:Ee,useEffect:Ee,useImperativeHandle:Ee,useInsertionEffect:Ee,useLayoutEffect:Ee,useMemo:Ee,useReducer:Ee,useRef:Ee,useState:Ee,useDebugValue:Ee,useDeferredValue:Ee,useTransition:Ee,useMutableSource:Ee,useSyncExternalStore:Ee,useId:Ee,unstable_isNewReconciler:!1},ag={readContext:st,useCallback:function(e,t){return yt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:rc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mi(4194308,4,Bh.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return mi(4,2,e,t)},useMemo:function(e,t){var r=yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=yt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sg.bind(null,ne,e),[n.memoizedState,e]},useRef:function(e){var t=yt();return e={current:e},t.memoizedState=e},useState:tc,useDebugValue:Kl,useDeferredValue:function(e){return yt().memoizedState=e},useTransition:function(){var e=tc(!1),t=e[0];return e=ng.bind(null,e[1]),yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ne,s=yt();if(ee){if(r===void 0)throw Error(b(407));r=r()}else{if(r=t(),ge===null)throw Error(b(349));Pr&30||jh(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,rc(Ih.bind(null,n,i,e),[e]),n.flags|=2048,ys(9,Rh.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=yt(),t=ge.identifierPrefix;if(ee){var r=At,n=Tt;r=(n&~(1<<32-ft(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=gs++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=rg++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},og={readContext:st,useCallback:zh,useContext:st,useEffect:Wl,useImperativeHandle:Fh,useInsertionEffect:Uh,useLayoutEffect:Mh,useMemo:Wh,useReducer:Ma,useRef:Dh,useState:function(){return Ma(vs)},useDebugValue:Kl,useDeferredValue:function(e){var t=it();return Kh(t,fe.memoizedState,e)},useTransition:function(){var e=Ma(vs)[0],t=it().memoizedState;return[e,t]},useMutableSource:Nh,useSyncExternalStore:Ph,useId:Vh,unstable_isNewReconciler:!1},lg={readContext:st,useCallback:zh,useContext:st,useEffect:Wl,useImperativeHandle:Fh,useInsertionEffect:Uh,useLayoutEffect:Mh,useMemo:Wh,useReducer:Ba,useRef:Dh,useState:function(){return Ba(vs)},useDebugValue:Kl,useDeferredValue:function(e){var t=it();return fe===null?t.memoizedState=e:Kh(t,fe.memoizedState,e)},useTransition:function(){var e=Ba(vs)[0],t=it().memoizedState;return[e,t]},useMutableSource:Nh,useSyncExternalStore:Ph,useId:Vh,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ro(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var na={isMounted:function(e){return(e=e._reactInternals)?Lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=er(e),i=Ot(n,s);i.payload=t,r!=null&&(i.callback=r),t=Xt(e,i,s),t!==null&&(pt(t,e,s,n),fi(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ne(),s=er(e),i=Ot(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Xt(e,i,s),t!==null&&(pt(t,e,s,n),fi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ne(),n=er(e),s=Ot(r,n);s.tag=2,t!=null&&(s.callback=t),t=Xt(e,s,n),t!==null&&(pt(t,e,n,r),fi(t,e,n))}};function nc(e,t,r,n,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,a):t.prototype&&t.prototype.isPureReactComponent?!cs(r,n)||!cs(s,i):!0}function Jh(e,t,r){var n=!1,s=sr,i=t.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=De(t)?Cr:Te.current,n=t.contextTypes,i=(n=n!=null)?yn(e,s):sr),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=na,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function sc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&na.enqueueReplaceState(t,t.state,null)}function Io(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},$l(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=De(t)?Cr:Te.current,s.context=yn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Ro(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&na.enqueueReplaceState(s,s.state,null),Li(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function kn(e,t){try{var r="",n=t;do r+=$p(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Fa(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Lo(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var ug=typeof WeakMap=="function"?WeakMap:Map;function Yh(e,t,r){r=Ot(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Bi||(Bi=!0,Vo=n),Lo(e,t)},r}function Qh(e,t,r){r=Ot(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Lo(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Lo(e,t),typeof n!="function"&&(Zt===null?Zt=new Set([this]):Zt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function ic(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new ug;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Eg.bind(null,e,t,r),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ot(-1,1),t.tag=2,Xt(r,t,1))),r.lanes|=1),e)}var cg=Rt.ReactCurrentOwner,Le=!1;function Ce(e,t,r,n){t.child=e===null?Th(t,null,r,n):_n(t,e.child,r,n)}function lc(e,t,r,n,s){r=r.render;var i=t.ref;return pn(t,s),n=Fl(e,t,r,n,i,s),r=zl(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(ee&&r&&Cl(t),t.flags|=1,Ce(e,t,n,s),t.child)}function uc(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Xl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Xh(e,t,i,n,s)):(e=wi(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(r=r.compare,r=r!==null?r:cs,r(a,n)&&e.ref===t.ref)return jt(e,t,s)}return t.flags|=1,e=tr(i,n),e.ref=t.ref,e.return=t,t.child=e}function Xh(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(cs(i,n)&&e.ref===t.ref)if(Le=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Le=!0);else return t.lanes=e.lanes,jt(e,t,s)}return $o(e,t,r,n,s)}function Zh(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(ln,ze),ze|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,q(ln,ze),ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(ln,ze),ze|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,q(ln,ze),ze|=n;return Ce(e,t,s,r),t.child}function ef(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function $o(e,t,r,n,s){var i=De(r)?Cr:Te.current;return i=yn(t,i),pn(t,s),r=Fl(e,t,r,n,i,s),n=zl(),e!==null&&!Le?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,jt(e,t,s)):(ee&&n&&Cl(t),t.flags|=1,Ce(e,t,r,s),t.child)}function cc(e,t,r,n,s){if(De(r)){var i=!0;Ni(t)}else i=!1;if(pn(t,s),t.stateNode===null)gi(e,t),Jh(t,r,n),Io(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=st(u):(u=De(r)?Cr:Te.current,u=yn(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&sc(t,a,n,u),Bt=!1;var p=t.memoizedState;a.state=p,Li(t,n,a,s),l=t.memoizedState,o!==n||p!==l||$e.current||Bt?(typeof c=="function"&&(Ro(t,r,c,n),l=t.memoizedState),(o=Bt||nc(t,r,o,n,p,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Oh(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:lt(t.type,o),a.props=u,d=t.pendingProps,p=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=st(l):(l=De(r)?Cr:Te.current,l=yn(t,l));var v=r.getDerivedStateFromProps;(c=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||p!==l)&&sc(t,a,n,l),Bt=!1,p=t.memoizedState,a.state=p,Li(t,n,a,s);var y=t.memoizedState;o!==d||p!==y||$e.current||Bt?(typeof v=="function"&&(Ro(t,r,v,n),y=t.memoizedState),(u=Bt||nc(t,r,u,n,p,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),n=!1)}return Do(e,t,r,n,i,s)}function Do(e,t,r,n,s,i){ef(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&Ju(t,r,!1),jt(e,t,i);n=t.stateNode,cg.current=t;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=_n(t,e.child,null,i),t.child=_n(t,null,o,i)):Ce(e,t,o,i),t.memoizedState=n.state,s&&Ju(t,r,!0),t.child}function tf(e){var t=e.stateNode;t.pendingContext?qu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qu(e,t.context,!1),Dl(e,t.containerInfo)}function dc(e,t,r,n,s){return wn(),Pl(s),t.flags|=256,Ce(e,t,r,n),t.child}var Uo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function rf(e,t,r){var n=t.pendingProps,s=re.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),q(re,s&1),e===null)return Po(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,i?(n=t.mode,i=t.child,a={mode:"hidden",children:a},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=aa(a,n,0,null),e=Or(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Mo(r),t.memoizedState=Uo,e):Vl(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return dg(e,t,a,n,o,s,r);if(i){i=n.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=tr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=tr(o,i):(i=Or(i,a,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,a=e.child.memoizedState,a=a===null?Mo(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~r,t.memoizedState=Uo,n}return i=e.child,e=i.sibling,n=tr(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vl(e,t){return t=aa({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Qs(e,t,r,n){return n!==null&&Pl(n),_n(t,e.child,null,r),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function dg(e,t,r,n,s,i,a){if(r)return t.flags&256?(t.flags&=-257,n=Fa(Error(b(422))),Qs(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=aa({mode:"visible",children:n.children},s,0,null),i=Or(i,s,a,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&_n(t,e.child,null,a),t.child.memoizedState=Mo(a),t.memoizedState=Uo,i);if(!(t.mode&1))return Qs(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,i=Error(b(419)),n=Fa(i,n,void 0),Qs(e,t,a,n)}if(o=(a&e.childLanes)!==0,Le||o){if(n=ge,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Pt(e,s),pt(n,e,s,-1))}return Ql(),n=Fa(Error(b(421))),Qs(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=xg.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ve=Qt(s.nextSibling),Ge=t,ee=!0,ht=null,e!==null&&(Ze[et++]=Tt,Ze[et++]=At,Ze[et++]=Nr,Tt=e.id,At=e.overflow,Nr=t),t=Vl(t,n.children),t.flags|=4096,t)}function hc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),jo(e.return,t,r)}function za(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function nf(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Ce(e,t,n.children,r),n=re.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hc(e,r,t);else if(e.tag===19)hc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(q(re,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&$i(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),za(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&$i(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}za(t,!0,r,null,i);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gi(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function jt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),jr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(b(153));if(t.child!==null){for(e=t.child,r=tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function hg(e,t,r){switch(t.tag){case 3:tf(t),wn();break;case 5:Ch(t);break;case 1:De(t.type)&&Ni(t);break;case 4:Dl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;q(Ri,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(q(re,re.current&1),t.flags|=128,null):r&t.child.childLanes?rf(e,t,r):(q(re,re.current&1),e=jt(e,t,r),e!==null?e.sibling:null);q(re,re.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return nf(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(re,re.current),n)break;return null;case 22:case 23:return t.lanes=0,Zh(e,t,r)}return jt(e,t,r)}var sf,Bo,af,of;sf=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Bo=function(){};af=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xr(St.current);var i=null;switch(r){case"input":s=oo(e,s),n=oo(e,n),i=[];break;case"select":s=se({},s,{value:void 0}),n=se({},n,{value:void 0}),i=[];break;case"textarea":s=co(e,s),n=co(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Oi)}fo(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ns.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(o=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ns.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Q("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};of=function(e,t,r,n){r!==n&&(t.flags|=4)};function Dn(e,t){if(!ee)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function xe(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function fg(e,t,r){var n=t.pendingProps;switch(Nl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xe(t),null;case 1:return De(t.type)&&Ci(),xe(t),null;case 3:return n=t.stateNode,Sn(),X($e),X(Te),Ml(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ht!==null&&(qo(ht),ht=null))),Bo(e,t),xe(t),null;case 5:Ul(t);var s=xr(ms.current);if(r=t.type,e!==null&&t.stateNode!=null)af(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(b(166));return xe(t),null}if(e=xr(St.current),Js(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[wt]=t,n[fs]=i,e=(t.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<Kn.length;s++)Q(Kn[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":Su(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":Eu(n,i),Q("invalid",n)}fo(r,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?n.textContent!==o&&(i.suppressHydrationWarning!==!0&&qs(n.textContent,o,e),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&qs(n.textContent,o,e),s=["children",""+o]):ns.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Q("scroll",n)}switch(r){case"input":Bs(n),ku(n,i,!0);break;case"textarea":Bs(n),xu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Oi)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Id(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[wt]=t,e[fs]=n,sf(e,t,!1,!1),t.stateNode=e;e:{switch(a=po(r,n),r){case"dialog":Q("cancel",e),Q("close",e),s=n;break;case"iframe":case"object":case"embed":Q("load",e),s=n;break;case"video":case"audio":for(s=0;s<Kn.length;s++)Q(Kn[s],e);s=n;break;case"source":Q("error",e),s=n;break;case"img":case"image":case"link":Q("error",e),Q("load",e),s=n;break;case"details":Q("toggle",e),s=n;break;case"input":Su(e,n),s=oo(e,n),Q("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=se({},n,{value:void 0}),Q("invalid",e);break;case"textarea":Eu(e,n),s=co(e,n),Q("invalid",e);break;default:s=n}fo(r,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?Dd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ld(e,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ss(e,l):typeof l=="number"&&ss(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ns.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",e):l!=null&&ml(e,i,l,a))}switch(r){case"input":Bs(e),ku(e,n,!1);break;case"textarea":Bs(e),xu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nr(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?cn(e,!!n.multiple,i,!1):n.defaultValue!=null&&cn(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Oi)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return xe(t),null;case 6:if(e&&t.stateNode!=null)of(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(b(166));if(r=xr(ms.current),xr(St.current),Js(t)){if(n=t.stateNode,r=t.memoizedProps,n[wt]=t,(i=n.nodeValue!==r)&&(e=Ge,e!==null))switch(e.tag){case 3:qs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qs(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[wt]=t,t.stateNode=n}return xe(t),null;case 13:if(X(re),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ee&&Ve!==null&&t.mode&1&&!(t.flags&128))xh(),wn(),t.flags|=98560,i=!1;else if(i=Js(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(b(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(b(317));i[wt]=t}else wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;xe(t),i=!1}else ht!==null&&(qo(ht),ht=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||re.current&1?pe===0&&(pe=3):Ql())),t.updateQueue!==null&&(t.flags|=4),xe(t),null);case 4:return Sn(),Bo(e,t),e===null&&ds(t.stateNode.containerInfo),xe(t),null;case 10:return Il(t.type._context),xe(t),null;case 17:return De(t.type)&&Ci(),xe(t),null;case 19:if(X(re),i=t.memoizedState,i===null)return xe(t),null;if(n=(t.flags&128)!==0,a=i.rendering,a===null)if(n)Dn(i,!1);else{if(pe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=$i(e),a!==null){for(t.flags|=128,Dn(i,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return q(re,re.current&1|2),t.child}e=e.sibling}i.tail!==null&&oe()>En&&(t.flags|=128,n=!0,Dn(i,!1),t.lanes=4194304)}else{if(!n)if(e=$i(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Dn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ee)return xe(t),null}else 2*oe()-i.renderingStartTime>En&&r!==1073741824&&(t.flags|=128,n=!0,Dn(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(r=i.last,r!==null?r.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=oe(),t.sibling=null,r=re.current,q(re,n?r&1|2:r&1),t):(xe(t),null);case 22:case 23:return Yl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ze&1073741824&&(xe(t),t.subtreeFlags&6&&(t.flags|=8192)):xe(t),null;case 24:return null;case 25:return null}throw Error(b(156,t.tag))}function pg(e,t){switch(Nl(t),t.tag){case 1:return De(t.type)&&Ci(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Sn(),X($e),X(Te),Ml(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ul(t),null;case 13:if(X(re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(b(340));wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return X(re),null;case 4:return Sn(),null;case 10:return Il(t.type._context),null;case 22:case 23:return Yl(),null;case 24:return null;default:return null}}var Xs=!1,be=!1,mg=typeof WeakSet=="function"?WeakSet:Set,N=null;function on(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ae(e,t,n)}else r.current=null}function Fo(e,t,r){try{r()}catch(n){ae(e,t,n)}}var fc=!1;function gg(e,t){if(xo=bi,e=dh(),Ol(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,d=e,p=null;t:for(;;){for(var v;d!==r||s!==0&&d.nodeType!==3||(o=a+s),d!==i||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(v=d.firstChild)!==null;)p=d,d=v;for(;;){if(d===e)break t;if(p===r&&++u===s&&(o=a),p===i&&++c===n&&(l=a),(v=d.nextSibling)!==null)break;d=p,p=d.parentNode}d=v}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(bo={focusedElem:e,selectionRange:r},bi=!1,N=t;N!==null;)if(t=N,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,N=e;else for(;N!==null;){t=N;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,_=y.memoizedState,g=t.stateNode,f=g.getSnapshotBeforeUpdate(t.elementType===t.type?w:lt(t.type,w),_);g.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(b(163))}}catch(S){ae(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,N=e;break}N=t.return}return y=fc,fc=!1,y}function Xn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Fo(t,r,i)}s=s.next}while(s!==n)}}function sa(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function zo(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function lf(e){var t=e.alternate;t!==null&&(e.alternate=null,lf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[fs],delete t[Oo],delete t[Xm],delete t[Zm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uf(e){return e.tag===5||e.tag===3||e.tag===4}function pc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uf(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wo(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Oi));else if(n!==4&&(e=e.child,e!==null))for(Wo(e,t,r),e=e.sibling;e!==null;)Wo(e,t,r),e=e.sibling}function Ko(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Ko(e,t,r),e=e.sibling;e!==null;)Ko(e,t,r),e=e.sibling}var we=null,ct=!1;function Dt(e,t,r){for(r=r.child;r!==null;)cf(e,t,r),r=r.sibling}function cf(e,t,r){if(_t&&typeof _t.onCommitFiberUnmount=="function")try{_t.onCommitFiberUnmount(Yi,r)}catch{}switch(r.tag){case 5:be||on(r,t);case 6:var n=we,s=ct;we=null,Dt(e,t,r),we=n,ct=s,we!==null&&(ct?(e=we,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):we.removeChild(r.stateNode));break;case 18:we!==null&&(ct?(e=we,r=r.stateNode,e.nodeType===8?La(e.parentNode,r):e.nodeType===1&&La(e,r),ls(e)):La(we,r.stateNode));break;case 4:n=we,s=ct,we=r.stateNode.containerInfo,ct=!0,Dt(e,t,r),we=n,ct=s;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&Fo(r,t,a),s=s.next}while(s!==n)}Dt(e,t,r);break;case 1:if(!be&&(on(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ae(r,t,o)}Dt(e,t,r);break;case 21:Dt(e,t,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,Dt(e,t,r),be=n):Dt(e,t,r);break;default:Dt(e,t,r)}}function mc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new mg),t.forEach(function(n){var s=bg.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function at(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:we=o.stateNode,ct=!1;break e;case 3:we=o.stateNode.containerInfo,ct=!0;break e;case 4:we=o.stateNode.containerInfo,ct=!0;break e}o=o.return}if(we===null)throw Error(b(160));cf(i,a,s),we=null,ct=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ae(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)df(t,e),t=t.sibling}function df(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(at(t,e),vt(e),n&4){try{Xn(3,e,e.return),sa(3,e)}catch(w){ae(e,e.return,w)}try{Xn(5,e,e.return)}catch(w){ae(e,e.return,w)}}break;case 1:at(t,e),vt(e),n&512&&r!==null&&on(r,r.return);break;case 5:if(at(t,e),vt(e),n&512&&r!==null&&on(r,r.return),e.flags&32){var s=e.stateNode;try{ss(s,"")}catch(w){ae(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=r!==null?r.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&jd(s,i),po(o,a);var u=po(o,i);for(a=0;a<l.length;a+=2){var c=l[a],d=l[a+1];c==="style"?Dd(s,d):c==="dangerouslySetInnerHTML"?Ld(s,d):c==="children"?ss(s,d):ml(s,c,d,u)}switch(o){case"input":lo(s,i);break;case"textarea":Rd(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?cn(s,!!i.multiple,v,!1):p!==!!i.multiple&&(i.defaultValue!=null?cn(s,!!i.multiple,i.defaultValue,!0):cn(s,!!i.multiple,i.multiple?[]:"",!1))}s[fs]=i}catch(w){ae(e,e.return,w)}}break;case 6:if(at(t,e),vt(e),n&4){if(e.stateNode===null)throw Error(b(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ae(e,e.return,w)}}break;case 3:if(at(t,e),vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ls(t.containerInfo)}catch(w){ae(e,e.return,w)}break;case 4:at(t,e),vt(e);break;case 13:at(t,e),vt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ql=oe())),n&4&&mc(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(be=(u=be)||c,at(t,e),be=u):at(t,e),vt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(N=e,c=e.child;c!==null;){for(d=N=c;N!==null;){switch(p=N,v=p.child,p.tag){case 0:case 11:case 14:case 15:Xn(4,p,p.return);break;case 1:on(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){n=p,r=p.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(w){ae(n,r,w)}}break;case 5:on(p,p.return);break;case 22:if(p.memoizedState!==null){vc(d);continue}}v!==null?(v.return=p,N=v):vc(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=$d("display",a))}catch(w){ae(e,e.return,w)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ae(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:at(t,e),vt(e),n&4&&mc(e);break;case 21:break;default:at(t,e),vt(e)}}function vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(uf(r)){var n=r;break e}r=r.return}throw Error(b(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ss(s,""),n.flags&=-33);var i=pc(e);Ko(e,i,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=pc(e);Wo(e,o,a);break;default:throw Error(b(161))}}catch(l){ae(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function vg(e,t,r){N=e,hf(e)}function hf(e,t,r){for(var n=(e.mode&1)!==0;N!==null;){var s=N,i=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Xs;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||be;o=Xs;var u=be;if(Xs=a,(be=l)&&!u)for(N=s;N!==null;)a=N,l=a.child,a.tag===22&&a.memoizedState!==null?yc(s):l!==null?(l.return=a,N=l):yc(s);for(;i!==null;)N=i,hf(i),i=i.sibling;N=s,Xs=o,be=u}gc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,N=i):gc(e)}}function gc(e){for(;N!==null;){var t=N;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||sa(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!be)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:lt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ec(t,i,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}ec(t,a,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&ls(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(b(163))}be||t.flags&512&&zo(t)}catch(p){ae(t,t.return,p)}}if(t===e){N=null;break}if(r=t.sibling,r!==null){r.return=t.return,N=r;break}N=t.return}}function vc(e){for(;N!==null;){var t=N;if(t===e){N=null;break}var r=t.sibling;if(r!==null){r.return=t.return,N=r;break}N=t.return}}function yc(e){for(;N!==null;){var t=N;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{sa(4,t)}catch(l){ae(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){ae(t,s,l)}}var i=t.return;try{zo(t)}catch(l){ae(t,i,l)}break;case 5:var a=t.return;try{zo(t)}catch(l){ae(t,a,l)}}}catch(l){ae(t,t.return,l)}if(t===e){N=null;break}var o=t.sibling;if(o!==null){o.return=t.return,N=o;break}N=t.return}}var yg=Math.ceil,Mi=Rt.ReactCurrentDispatcher,Gl=Rt.ReactCurrentOwner,nt=Rt.ReactCurrentBatchConfig,F=0,ge=null,de=null,_e=0,ze=0,ln=or(0),pe=0,ws=null,jr=0,ia=0,Hl=0,Zn=null,Ie=null,ql=0,En=1/0,Et=null,Bi=!1,Vo=null,Zt=null,Zs=!1,Gt=null,Fi=0,es=0,Go=null,vi=-1,yi=0;function Ne(){return F&6?oe():vi!==-1?vi:vi=oe()}function er(e){return e.mode&1?F&2&&_e!==0?_e&-_e:tg.transition!==null?(yi===0&&(yi=Jd()),yi):(e=W,e!==0||(e=window.event,e=e===void 0?16:rh(e.type)),e):1}function pt(e,t,r,n){if(50<es)throw es=0,Go=null,Error(b(185));Ns(e,r,n),(!(F&2)||e!==ge)&&(e===ge&&(!(F&2)&&(ia|=r),pe===4&&Wt(e,_e)),Ue(e,n),r===1&&F===0&&!(t.mode&1)&&(En=oe()+500,ta&&lr()))}function Ue(e,t){var r=e.callbackNode;tm(e,t);var n=xi(e,e===ge?_e:0);if(n===0)r!==null&&Au(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Au(r),t===1)e.tag===0?eg(wc.bind(null,e)):Sh(wc.bind(null,e)),Ym(function(){!(F&6)&&lr()}),r=null;else{switch(Yd(n)){case 1:r=_l;break;case 4:r=Hd;break;case 16:r=Ei;break;case 536870912:r=qd;break;default:r=Ei}r=_f(r,ff.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ff(e,t){if(vi=-1,yi=0,F&6)throw Error(b(327));var r=e.callbackNode;if(mn()&&e.callbackNode!==r)return null;var n=xi(e,e===ge?_e:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=zi(e,n);else{t=n;var s=F;F|=2;var i=mf();(ge!==e||_e!==t)&&(Et=null,En=oe()+500,Ar(e,t));do try{Sg();break}catch(o){pf(e,o)}while(!0);Rl(),Mi.current=i,F=s,de!==null?t=0:(ge=null,_e=0,t=pe)}if(t!==0){if(t===2&&(s=wo(e),s!==0&&(n=s,t=Ho(e,s))),t===1)throw r=ws,Ar(e,0),Wt(e,n),Ue(e,oe()),r;if(t===6)Wt(e,n);else{if(s=e.current.alternate,!(n&30)&&!wg(s)&&(t=zi(e,n),t===2&&(i=wo(e),i!==0&&(n=i,t=Ho(e,i))),t===1))throw r=ws,Ar(e,0),Wt(e,n),Ue(e,oe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(b(345));case 2:gr(e,Ie,Et);break;case 3:if(Wt(e,n),(n&130023424)===n&&(t=ql+500-oe(),10<t)){if(xi(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ao(gr.bind(null,e,Ie,Et),t);break}gr(e,Ie,Et);break;case 4:if(Wt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-ft(n);i=1<<a,a=t[a],a>s&&(s=a),n&=~i}if(n=s,n=oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*yg(n/1960))-n,10<n){e.timeoutHandle=Ao(gr.bind(null,e,Ie,Et),n);break}gr(e,Ie,Et);break;case 5:gr(e,Ie,Et);break;default:throw Error(b(329))}}}return Ue(e,oe()),e.callbackNode===r?ff.bind(null,e):null}function Ho(e,t){var r=Zn;return e.current.memoizedState.isDehydrated&&(Ar(e,t).flags|=256),e=zi(e,t),e!==2&&(t=Ie,Ie=r,t!==null&&qo(t)),e}function qo(e){Ie===null?Ie=e:Ie.push.apply(Ie,e)}function wg(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Wt(e,t){for(t&=~Hl,t&=~ia,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-ft(t),n=1<<r;e[r]=-1,t&=~n}}function wc(e){if(F&6)throw Error(b(327));mn();var t=xi(e,0);if(!(t&1))return Ue(e,oe()),null;var r=zi(e,t);if(e.tag!==0&&r===2){var n=wo(e);n!==0&&(t=n,r=Ho(e,n))}if(r===1)throw r=ws,Ar(e,0),Wt(e,t),Ue(e,oe()),r;if(r===6)throw Error(b(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,gr(e,Ie,Et),Ue(e,oe()),null}function Jl(e,t){var r=F;F|=1;try{return e(t)}finally{F=r,F===0&&(En=oe()+500,ta&&lr())}}function Rr(e){Gt!==null&&Gt.tag===0&&!(F&6)&&mn();var t=F;F|=1;var r=nt.transition,n=W;try{if(nt.transition=null,W=1,e)return e()}finally{W=n,nt.transition=r,F=t,!(F&6)&&lr()}}function Yl(){ze=ln.current,X(ln)}function Ar(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Jm(r)),de!==null)for(r=de.return;r!==null;){var n=r;switch(Nl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ci();break;case 3:Sn(),X($e),X(Te),Ml();break;case 5:Ul(n);break;case 4:Sn();break;case 13:X(re);break;case 19:X(re);break;case 10:Il(n.type._context);break;case 22:case 23:Yl()}r=r.return}if(ge=e,de=e=tr(e.current,null),_e=ze=t,pe=0,ws=null,Hl=ia=jr=0,Ie=Zn=null,Er!==null){for(t=0;t<Er.length;t++)if(r=Er[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var a=i.next;i.next=s,n.next=a}r.pending=n}Er=null}return e}function pf(e,t){do{var r=de;try{if(Rl(),pi.current=Ui,Di){for(var n=ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Di=!1}if(Pr=0,me=fe=ne=null,Qn=!1,gs=0,Gl.current=null,r===null||r.return===null){pe=1,ws=t,de=null;break}e:{var i=e,a=r.return,o=r,l=t;if(t=_e,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var v=ac(a);if(v!==null){v.flags&=-257,oc(v,a,o,i,t),v.mode&1&&ic(i,u,t),t=v,l=u;var y=t.updateQueue;if(y===null){var w=new Set;w.add(l),t.updateQueue=w}else y.add(l);break e}else{if(!(t&1)){ic(i,u,t),Ql();break e}l=Error(b(426))}}else if(ee&&o.mode&1){var _=ac(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),oc(_,a,o,i,t),Pl(kn(l,o));break e}}i=l=kn(l,o),pe!==4&&(pe=2),Zn===null?Zn=[i]:Zn.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Yh(i,l,t);Zu(i,g);break e;case 1:o=l;var f=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Zt===null||!Zt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var S=Qh(i,o,t);Zu(i,S);break e}}i=i.return}while(i!==null)}vf(r)}catch(x){t=x,de===r&&r!==null&&(de=r=r.return);continue}break}while(!0)}function mf(){var e=Mi.current;return Mi.current=Ui,e===null?Ui:e}function Ql(){(pe===0||pe===3||pe===2)&&(pe=4),ge===null||!(jr&268435455)&&!(ia&268435455)||Wt(ge,_e)}function zi(e,t){var r=F;F|=2;var n=mf();(ge!==e||_e!==t)&&(Et=null,Ar(e,t));do try{_g();break}catch(s){pf(e,s)}while(!0);if(Rl(),F=r,Mi.current=n,de!==null)throw Error(b(261));return ge=null,_e=0,pe}function _g(){for(;de!==null;)gf(de)}function Sg(){for(;de!==null&&!Gp();)gf(de)}function gf(e){var t=wf(e.alternate,e,ze);e.memoizedProps=e.pendingProps,t===null?vf(e):de=t,Gl.current=null}function vf(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=pg(r,t),r!==null){r.flags&=32767,de=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{pe=6,de=null;return}}else if(r=fg(r,t,ze),r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);pe===0&&(pe=5)}function gr(e,t,r){var n=W,s=nt.transition;try{nt.transition=null,W=1,kg(e,t,r,n)}finally{nt.transition=s,W=n}return null}function kg(e,t,r,n){do mn();while(Gt!==null);if(F&6)throw Error(b(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(b(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(rm(e,i),e===ge&&(de=ge=null,_e=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zs||(Zs=!0,_f(Ei,function(){return mn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var a=W;W=1;var o=F;F|=4,Gl.current=null,gg(e,r),df(r,e),zm(bo),bi=!!xo,bo=xo=null,e.current=r,vg(r),Hp(),F=o,W=a,nt.transition=i}else e.current=r;if(Zs&&(Zs=!1,Gt=e,Fi=s),i=e.pendingLanes,i===0&&(Zt=null),Yp(r.stateNode),Ue(e,oe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Bi)throw Bi=!1,e=Vo,Vo=null,e;return Fi&1&&e.tag!==0&&mn(),i=e.pendingLanes,i&1?e===Go?es++:(es=0,Go=e):es=0,lr(),null}function mn(){if(Gt!==null){var e=Yd(Fi),t=nt.transition,r=W;try{if(nt.transition=null,W=16>e?16:e,Gt===null)var n=!1;else{if(e=Gt,Gt=null,Fi=0,F&6)throw Error(b(331));var s=F;for(F|=4,N=e.current;N!==null;){var i=N,a=i.child;if(N.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(N=u;N!==null;){var c=N;switch(c.tag){case 0:case 11:case 15:Xn(8,c,i)}var d=c.child;if(d!==null)d.return=c,N=d;else for(;N!==null;){c=N;var p=c.sibling,v=c.return;if(lf(c),c===u){N=null;break}if(p!==null){p.return=v,N=p;break}N=v}}}var y=i.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var _=w.sibling;w.sibling=null,w=_}while(w!==null)}}N=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,N=a;else e:for(;N!==null;){if(i=N,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Xn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,N=g;break e}N=i.return}}var f=e.current;for(N=f;N!==null;){a=N;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,N=m;else e:for(a=f;N!==null;){if(o=N,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:sa(9,o)}}catch(x){ae(o,o.return,x)}if(o===a){N=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,N=S;break e}N=o.return}}if(F=s,lr(),_t&&typeof _t.onPostCommitFiberRoot=="function")try{_t.onPostCommitFiberRoot(Yi,e)}catch{}n=!0}return n}finally{W=r,nt.transition=t}}return!1}function _c(e,t,r){t=kn(r,t),t=Yh(e,t,1),e=Xt(e,t,1),t=Ne(),e!==null&&(Ns(e,1,t),Ue(e,t))}function ae(e,t,r){if(e.tag===3)_c(e,e,r);else for(;t!==null;){if(t.tag===3){_c(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zt===null||!Zt.has(n))){e=kn(r,e),e=Qh(t,e,1),t=Xt(t,e,1),e=Ne(),t!==null&&(Ns(t,1,e),Ue(t,e));break}}t=t.return}}function Eg(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&r,ge===e&&(_e&r)===r&&(pe===4||pe===3&&(_e&130023424)===_e&&500>oe()-ql?Ar(e,0):Hl|=r),Ue(e,t)}function yf(e,t){t===0&&(e.mode&1?(t=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):t=1);var r=Ne();e=Pt(e,t),e!==null&&(Ns(e,t,r),Ue(e,r))}function xg(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),yf(e,r)}function bg(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(b(314))}n!==null&&n.delete(t),yf(e,r)}var wf;wf=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||$e.current)Le=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Le=!1,hg(e,t,r);Le=!!(e.flags&131072)}else Le=!1,ee&&t.flags&1048576&&kh(t,ji,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;gi(e,t),e=t.pendingProps;var s=yn(t,Te.current);pn(t,r),s=Fl(null,t,n,e,s,r);var i=zl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(n)?(i=!0,Ni(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$l(t),s.updater=na,t.stateNode=s,s._reactInternals=t,Io(t,n,e,r),t=Do(null,t,n,!0,i,r)):(t.tag=0,ee&&i&&Cl(t),Ce(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(gi(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Ag(n),e=lt(n,e),s){case 0:t=$o(null,t,n,e,r);break e;case 1:t=cc(null,t,n,e,r);break e;case 11:t=lc(null,t,n,e,r);break e;case 14:t=uc(null,t,n,lt(n.type,e),r);break e}throw Error(b(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lt(n,s),$o(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lt(n,s),cc(e,t,n,s,r);case 3:e:{if(tf(t),e===null)throw Error(b(387));n=t.pendingProps,i=t.memoizedState,s=i.element,Oh(e,t),Li(t,n,null,r);var a=t.memoizedState;if(n=a.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=kn(Error(b(423)),t),t=dc(e,t,n,r,s);break e}else if(n!==s){s=kn(Error(b(424)),t),t=dc(e,t,n,r,s);break e}else for(Ve=Qt(t.stateNode.containerInfo.firstChild),Ge=t,ee=!0,ht=null,r=Th(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(wn(),n===s){t=jt(e,t,r);break e}Ce(e,t,n,r)}t=t.child}return t;case 5:return Ch(t),e===null&&Po(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,To(n,s)?a=null:i!==null&&To(n,i)&&(t.flags|=32),ef(e,t),Ce(e,t,a,r),t.child;case 6:return e===null&&Po(t),null;case 13:return rf(e,t,r);case 4:return Dl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_n(t,null,n,r):Ce(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lt(n,s),lc(e,t,n,s,r);case 7:return Ce(e,t,t.pendingProps,r),t.child;case 8:return Ce(e,t,t.pendingProps.children,r),t.child;case 12:return Ce(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,q(Ri,n._currentValue),n._currentValue=a,i!==null)if(mt(i.value,a)){if(i.children===s.children&&!$e.current){t=jt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=Ot(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),jo(i.return,r,t),o.lanes|=r;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(b(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),jo(a,r,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ce(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,pn(t,r),s=st(s),n=n(s),t.flags|=1,Ce(e,t,n,r),t.child;case 14:return n=t.type,s=lt(n,t.pendingProps),s=lt(n.type,s),uc(e,t,n,s,r);case 15:return Xh(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:lt(n,s),gi(e,t),t.tag=1,De(n)?(e=!0,Ni(t)):e=!1,pn(t,r),Jh(t,n,s),Io(t,n,s,r),Do(null,t,n,!0,e,r);case 19:return nf(e,t,r);case 22:return Zh(e,t,r)}throw Error(b(156,t.tag))};function _f(e,t){return Gd(e,t)}function Tg(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(e,t,r,n){return new Tg(e,t,r,n)}function Xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ag(e){if(typeof e=="function")return Xl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vl)return 11;if(e===yl)return 14}return 2}function tr(e,t){var r=e.alternate;return r===null?(r=rt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function wi(e,t,r,n,s,i){var a=2;if(n=e,typeof e=="function")Xl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Qr:return Or(r.children,s,i,t);case gl:a=8,s|=8;break;case no:return e=rt(12,r,t,s|2),e.elementType=no,e.lanes=i,e;case so:return e=rt(13,r,t,s),e.elementType=so,e.lanes=i,e;case io:return e=rt(19,r,t,s),e.elementType=io,e.lanes=i,e;case Cd:return aa(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ad:a=10;break e;case Od:a=9;break e;case vl:a=11;break e;case yl:a=14;break e;case Mt:a=16,n=null;break e}throw Error(b(130,e==null?e:typeof e,""))}return t=rt(a,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function Or(e,t,r,n){return e=rt(7,e,n,t),e.lanes=r,e}function aa(e,t,r,n){return e=rt(22,e,n,t),e.elementType=Cd,e.lanes=r,e.stateNode={isHidden:!1},e}function Wa(e,t,r){return e=rt(6,e,null,t),e.lanes=r,e}function Ka(e,t,r){return t=rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Og(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xa(0),this.expirationTimes=xa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xa(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Zl(e,t,r,n,s,i,a,o,l){return e=new Og(e,t,r,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=rt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},$l(i),e}function Cg(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Yr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Sf(e){if(!e)return sr;e=e._reactInternals;e:{if(Lr(e)!==e||e.tag!==1)throw Error(b(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(b(171))}if(e.tag===1){var r=e.type;if(De(r))return _h(e,r,t)}return t}function kf(e,t,r,n,s,i,a,o,l){return e=Zl(r,n,!0,e,s,i,a,o,l),e.context=Sf(null),r=e.current,n=Ne(),s=er(r),i=Ot(n,s),i.callback=t??null,Xt(r,i,s),e.current.lanes=s,Ns(e,s,n),Ue(e,n),e}function oa(e,t,r,n){var s=t.current,i=Ne(),a=er(s);return r=Sf(r),t.context===null?t.context=r:t.pendingContext=r,t=Ot(i,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xt(s,t,a),e!==null&&(pt(e,s,a,i),fi(e,s,a)),a}function Wi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function eu(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function Ng(){return null}var Ef=typeof reportError=="function"?reportError:function(e){console.error(e)};function tu(e){this._internalRoot=e}la.prototype.render=tu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(b(409));oa(e,t,null,null)};la.prototype.unmount=tu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){oa(null,e,null,null)}),t[Nt]=null}};function la(e){this._internalRoot=e}la.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<zt.length&&t!==0&&t<zt[r].priority;r++);zt.splice(r,0,e),r===0&&th(e)}};function ru(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ua(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function kc(){}function Pg(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Wi(a);i.call(u)}}var a=kf(t,n,e,0,null,!1,!1,"",kc);return e._reactRootContainer=a,e[Nt]=a.current,ds(e.nodeType===8?e.parentNode:e),Rr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var u=Wi(l);o.call(u)}}var l=Zl(e,0,!1,null,null,!1,!1,"",kc);return e._reactRootContainer=l,e[Nt]=l.current,ds(e.nodeType===8?e.parentNode:e),Rr(function(){oa(t,l,r,n)}),l}function ca(e,t,r,n,s){var i=r._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=Wi(a);o.call(l)}}oa(t,a,e,s)}else a=Pg(r,t,e,s,n);return Wi(a)}Qd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Wn(t.pendingLanes);r!==0&&(Sl(t,r|1),Ue(t,oe()),!(F&6)&&(En=oe()+500,lr()))}break;case 13:Rr(function(){var n=Pt(e,1);if(n!==null){var s=Ne();pt(n,e,1,s)}}),eu(e,1)}};kl=function(e){if(e.tag===13){var t=Pt(e,134217728);if(t!==null){var r=Ne();pt(t,e,134217728,r)}eu(e,134217728)}};Xd=function(e){if(e.tag===13){var t=er(e),r=Pt(e,t);if(r!==null){var n=Ne();pt(r,e,t,n)}eu(e,t)}};Zd=function(){return W};eh=function(e,t){var r=W;try{return W=e,t()}finally{W=r}};go=function(e,t,r){switch(t){case"input":if(lo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ea(n);if(!s)throw Error(b(90));Pd(n),lo(n,s)}}}break;case"textarea":Rd(e,r);break;case"select":t=r.value,t!=null&&cn(e,!!r.multiple,t,!1)}};Bd=Jl;Fd=Rr;var jg={usingClientEntryPoint:!1,Events:[js,tn,ea,Ud,Md,Jl]},Un={findFiberByHostInstance:kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rg={bundleType:Un.bundleType,version:Un.version,rendererPackageName:Un.rendererPackageName,rendererConfig:Un.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Rt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Kd(e),e===null?null:e.stateNode},findFiberByHostInstance:Un.findFiberByHostInstance||Ng,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ei=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ei.isDisabled&&ei.supportsFiber)try{Yi=ei.inject(Rg),_t=ei}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jg;qe.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ru(t))throw Error(b(200));return Cg(e,t,null,r)};qe.createRoot=function(e,t){if(!ru(e))throw Error(b(299));var r=!1,n="",s=Ef;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Zl(e,1,!1,null,null,r,!1,n,s),e[Nt]=t.current,ds(e.nodeType===8?e.parentNode:e),new tu(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(b(188)):(e=Object.keys(e).join(","),Error(b(268,e)));return e=Kd(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return Rr(e)};qe.hydrate=function(e,t,r){if(!ua(t))throw Error(b(200));return ca(null,e,t,!0,r)};qe.hydrateRoot=function(e,t,r){if(!ru(e))throw Error(b(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",a=Ef;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=kf(t,null,e,1,r??null,s,!1,i,a),e[Nt]=t.current,ds(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new la(t)};qe.render=function(e,t,r){if(!ua(t))throw Error(b(200));return ca(null,e,t,!1,r)};qe.unmountComponentAtNode=function(e){if(!ua(e))throw Error(b(40));return e._reactRootContainer?(Rr(function(){ca(null,null,e,!1,function(){e._reactRootContainer=null,e[Nt]=null})}),!0):!1};qe.unstable_batchedUpdates=Jl;qe.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ua(r))throw Error(b(200));if(e==null||e._reactInternals===void 0)throw Error(b(38));return ca(e,t,r,!1,n)};qe.version="18.3.1-next-f1338f8080-20240426";function xf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xf)}catch(e){console.error(e)}}xf(),Ed.exports=qe;var Ig=Ed.exports,bf,Ec=Ig;bf=Ec.createRoot,Ec.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _s(){return _s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_s.apply(this,arguments)}var Ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ht||(Ht={}));const xc="popstate";function Lg(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:a,hash:o}=n.location;return Jo("",{pathname:i,search:a,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ki(s)}return Dg(t,r,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Tf(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $g(){return Math.random().toString(36).substr(2,8)}function bc(e,t){return{usr:e.state,key:e.key,idx:t}}function Jo(e,t,r,n){return r===void 0&&(r=null),_s({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?An(t):t,{state:r,key:t&&t.key||n||$g()})}function Ki(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function An(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Dg(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,a=s.history,o=Ht.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(_s({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function d(){o=Ht.Pop;let _=c(),g=_==null?null:_-u;u=_,l&&l({action:o,location:w.location,delta:g})}function p(_,g){o=Ht.Push;let f=Jo(w.location,_,g);u=c()+1;let m=bc(f,u),S=w.createHref(f);try{a.pushState(m,"",S)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;s.location.assign(S)}i&&l&&l({action:o,location:w.location,delta:1})}function v(_,g){o=Ht.Replace;let f=Jo(w.location,_,g);u=c();let m=bc(f,u),S=w.createHref(f);a.replaceState(m,"",S),i&&l&&l({action:o,location:w.location,delta:0})}function y(_){let g=s.location.origin!=="null"?s.location.origin:s.location.href,f=typeof _=="string"?_:Ki(_);return f=f.replace(/ $/,"%20"),le(g,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,g)}let w={get action(){return o},get location(){return e(s,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(xc,d),l=_,()=>{s.removeEventListener(xc,d),l=null}},createHref(_){return t(s,_)},createURL:y,encodeLocation(_){let g=y(_);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:v,go(_){return a.go(_)}};return w}var Tc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Tc||(Tc={}));function Ug(e,t,r){return r===void 0&&(r="/"),Mg(e,t,r)}function Mg(e,t,r,n){let s=typeof t=="string"?An(t):t,i=nu(s.pathname||"/",r);if(i==null)return null;let a=Af(e);Bg(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Xg(i);o=Jg(a[l],u)}return o}function Af(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,a,o)=>{let l={relativePath:o===void 0?i.path||"":o,caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=rr([n,l.relativePath]),c=r.concat(l);i.children&&i.children.length>0&&(le(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Af(i.children,t,c,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Hg(u,i.index),routesMeta:c})};return e.forEach((i,a)=>{var o;if(i.path===""||!((o=i.path)!=null&&o.includes("?")))s(i,a);else for(let l of Of(i.path))s(i,a,l)}),t}function Of(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let a=Of(n.join("/")),o=[];return o.push(...a.map(l=>l===""?i:[i,l].join("/"))),s&&o.push(...a),o.map(l=>e.startsWith("/")&&l===""?"/":l)}function Bg(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qg(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Fg=/^:[\w-]+$/,zg=3,Wg=2,Kg=1,Vg=10,Gg=-2,Ac=e=>e==="*";function Hg(e,t){let r=e.split("/"),n=r.length;return r.some(Ac)&&(n+=Gg),t&&(n+=Wg),r.filter(s=>!Ac(s)).reduce((s,i)=>s+(Fg.test(i)?zg:i===""?Kg:Vg),n)}function qg(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Jg(e,t,r){let{routesMeta:n}=e,s={},i="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",d=Yg({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),p=l.route;if(!d)return null;Object.assign(s,d.params),a.push({params:s,pathname:rr([i,d.pathname]),pathnameBase:rv(rr([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=rr([i,d.pathnameBase]))}return a}function Yg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Qg(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],a=i.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:p,isOptional:v}=c;if(p==="*"){let w=o[d]||"";a=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=o[d];return v&&!y?u[p]=void 0:u[p]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:a,pattern:e}}function Qg(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Tf(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function Xg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Tf(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Zg(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?An(e):e;return{pathname:r?r.startsWith("/")?r:ev(r,t):t,search:nv(n),hash:sv(s)}}function ev(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Va(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function tv(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function su(e,t){let r=tv(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function iu(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=An(e):(s=_s({},e),le(!s.pathname||!s.pathname.includes("?"),Va("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),Va("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),Va("#","search","hash",s)));let i=e===""||s.pathname==="",a=i?"/":s.pathname,o;if(a==null)o=r;else{let d=t.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}o=d>=0?t[d]:"/"}let l=Zg(s,o),u=a&&a!=="/"&&a.endsWith("/"),c=(i||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const rr=e=>e.join("/").replace(/\/\/+/g,"/"),rv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function iv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cf=["post","put","patch","delete"];new Set(Cf);const av=["get",...Cf];new Set(av);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ss.apply(this,arguments)}const au=k.createContext(null),ov=k.createContext(null),ur=k.createContext(null),da=k.createContext(null),cr=k.createContext({outlet:null,matches:[],isDataRoute:!1}),Nf=k.createContext(null);function lv(e,t){let{relative:r}=t===void 0?{}:t;On()||le(!1);let{basename:n,navigator:s}=k.useContext(ur),{hash:i,pathname:a,search:o}=jf(e,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:rr([n,a])),s.createHref({pathname:l,search:o,hash:i})}function On(){return k.useContext(da)!=null}function Cn(){return On()||le(!1),k.useContext(da).location}function Pf(e){k.useContext(ur).static||k.useLayoutEffect(e)}function ha(){let{isDataRoute:e}=k.useContext(cr);return e?Sv():uv()}function uv(){On()||le(!1);let e=k.useContext(au),{basename:t,future:r,navigator:n}=k.useContext(ur),{matches:s}=k.useContext(cr),{pathname:i}=Cn(),a=JSON.stringify(su(s,r.v7_relativeSplatPath)),o=k.useRef(!1);return Pf(()=>{o.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let d=iu(u,JSON.parse(a),i,c.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:rr([t,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[t,n,a,i,e])}function jf(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=k.useContext(ur),{matches:s}=k.useContext(cr),{pathname:i}=Cn(),a=JSON.stringify(su(s,n.v7_relativeSplatPath));return k.useMemo(()=>iu(e,JSON.parse(a),i,r==="path"),[e,a,i,r])}function cv(e,t){return dv(e,t)}function dv(e,t,r,n){On()||le(!1);let{navigator:s}=k.useContext(ur),{matches:i}=k.useContext(cr),a=i[i.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Cn(),c;if(t){var d;let _=typeof t=="string"?An(t):t;l==="/"||(d=_.pathname)!=null&&d.startsWith(l)||le(!1),c=_}else c=u;let p=c.pathname||"/",v=p;if(l!=="/"){let _=l.replace(/^\//,"").split("/");v="/"+p.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Ug(e,{pathname:v}),w=gv(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:rr([l,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:rr([l,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),i,r,n);return t&&w?k.createElement(da.Provider,{value:{location:Ss({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ht.Pop}},w):w}function hv(){let e=_v(),t=iv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},t),r?k.createElement("pre",{style:s},r):null,null)}const fv=k.createElement(hv,null);class pv extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?k.createElement(cr.Provider,{value:this.props.routeContext},k.createElement(Nf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mv(e){let{routeContext:t,match:r,children:n}=e,s=k.useContext(au);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(cr.Provider,{value:t},n)}function gv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,o=(s=r)==null?void 0:s.errors;if(o!=null){let c=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);c>=0||le(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let d=a[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:p,errors:v}=r,y=d.route.loader&&p[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,d,p)=>{let v,y=!1,w=null,_=null;r&&(v=o&&d.route.id?o[d.route.id]:void 0,w=d.route.errorElement||fv,l&&(u<0&&p===0?(kv("route-fallback"),y=!0,_=null):u===p&&(y=!0,_=d.route.hydrateFallbackElement||null)));let g=t.concat(a.slice(0,p+1)),f=()=>{let m;return v?m=w:y?m=_:d.route.Component?m=k.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=c,k.createElement(mv,{match:d,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?k.createElement(pv,{location:r.location,revalidation:r.revalidation,component:w,error:v,children:f(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):f()},null)}var Rf=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Rf||{}),If=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(If||{});function vv(e){let t=k.useContext(au);return t||le(!1),t}function yv(e){let t=k.useContext(ov);return t||le(!1),t}function wv(e){let t=k.useContext(cr);return t||le(!1),t}function Lf(e){let t=wv(),r=t.matches[t.matches.length-1];return r.route.id||le(!1),r.route.id}function _v(){var e;let t=k.useContext(Nf),r=yv(),n=Lf();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Sv(){let{router:e}=vv(Rf.UseNavigateStable),t=Lf(If.UseNavigateStable),r=k.useRef(!1);return Pf(()=>{r.current=!0}),k.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ss({fromRouteId:t},i)))},[e,t])}const Oc={};function kv(e,t,r){Oc[e]||(Oc[e]=!0)}function Ev(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xv(e){let{to:t,replace:r,state:n,relative:s}=e;On()||le(!1);let{future:i,static:a}=k.useContext(ur),{matches:o}=k.useContext(cr),{pathname:l}=Cn(),u=ha(),c=iu(t,su(o,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(c);return k.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Gr(e){le(!1)}function bv(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Ht.Pop,navigator:i,static:a=!1,future:o}=e;On()&&le(!1);let l=t.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:i,static:a,future:Ss({v7_relativeSplatPath:!1},o)}),[l,o,i,a]);typeof n=="string"&&(n=An(n));let{pathname:c="/",search:d="",hash:p="",state:v=null,key:y="default"}=n,w=k.useMemo(()=>{let _=nu(c,l);return _==null?null:{location:{pathname:_,search:d,hash:p,state:v,key:y},navigationType:s}},[l,c,d,p,v,y,s]);return w==null?null:k.createElement(ur.Provider,{value:u},k.createElement(da.Provider,{children:r,value:w}))}function Tv(e){let{children:t,location:r}=e;return cv(Yo(t),r)}new Promise(()=>{});function Yo(e,t){t===void 0&&(t=[]);let r=[];return k.Children.forEach(e,(n,s)=>{if(!k.isValidElement(n))return;let i=[...t,s];if(n.type===k.Fragment){r.push.apply(r,Yo(n.props.children,i));return}n.type!==Gr&&le(!1),!n.props.index||!n.props.children||le(!1);let a={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=Yo(n.props.children,i)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qo(){return Qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qo.apply(this,arguments)}function Av(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function Ov(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cv(e,t){return e.button===0&&(!t||t==="_self")&&!Ov(e)}const Nv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Pv="6";try{window.__reactRouterVersion=Pv}catch{}const jv="startTransition",Cc=Ep[jv];function Rv(e){let{basename:t,children:r,future:n,window:s}=e,i=k.useRef();i.current==null&&(i.current=Lg({window:s,v5Compat:!0}));let a=i.current,[o,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=k.useCallback(d=>{u&&Cc?Cc(()=>l(d)):l(d)},[l,u]);return k.useLayoutEffect(()=>a.listen(c),[a,c]),k.useEffect(()=>Ev(n),[n]),k.createElement(bv,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Iv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ti=k.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:d}=t,p=Av(t,Nv),{basename:v}=k.useContext(ur),y,w=!1;if(typeof u=="string"&&Lv.test(u)&&(y=u,Iv))try{let m=new URL(window.location.href),S=u.startsWith("//")?new URL(m.protocol+u):new URL(u),x=nu(S.pathname,v);S.origin===m.origin&&x!=null?u=x+S.search+S.hash:w=!0}catch{}let _=lv(u,{relative:s}),g=$v(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:s,viewTransition:d});function f(m){n&&n(m),m.defaultPrevented||g(m)}return k.createElement("a",Qo({},p,{href:y||_,onClick:w||i?n:f,ref:r,target:l}))});var Nc;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Nc||(Nc={}));var Pc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Pc||(Pc={}));function $v(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:a,viewTransition:o}=t===void 0?{}:t,l=ha(),u=Cn(),c=jf(e,{relative:a});return k.useCallback(d=>{if(Cv(d,r)){d.preventDefault();let p=n!==void 0?n:Ki(u)===Ki(c);l(e,{replace:p,state:s,preventScrollReset:i,relative:a,viewTransition:o})}},[u,l,c,n,s,r,e,i,a,o])}function fa(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Dv(e,t,r,n){function s(i){return i instanceof r?i:new r(function(a){a(i)})}return new(r||(r=Promise))(function(i,a){function o(c){try{u(n.next(c))}catch(d){a(d)}}function l(c){try{u(n.throw(c))}catch(d){a(d)}}function u(c){c.done?i(c.value):s(c.value).then(o,l)}u((n=n.apply(e,t||[])).next())})}const Uv=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class ou extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Mv extends ou{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jc extends ou{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Rc extends ou{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Xo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Xo||(Xo={}));class Bv{constructor(t,{headers:r={},customFetch:n,region:s=Xo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=Uv(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Dv(this,arguments,void 0,function*(r,n={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:c,timeout:d}=n;let p={},{region:v}=n;v||(v=this.region);const y=new URL(`${this.url}/${r}`);v&&v!=="any"&&(p["x-region"]=v,y.searchParams.set("forceFunctionRegion",v));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(p["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(p["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let _=c;d&&(a=new AbortController,i=setTimeout(()=>a.abort(),d),c?(_=a.signal,c.addEventListener("abort",()=>a.abort())):_=a.signal);const g=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:w,signal:_}).catch(x=>{throw new Mv(x)}),f=g.headers.get("x-relay-error");if(f&&f==="true")throw new jc(g);if(!g.ok)throw new Rc(g);let m=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),S;return m==="application/json"?S=yield g.json():m==="application/octet-stream"||m==="application/pdf"?S=yield g.blob():m==="text/event-stream"?S=g:m==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Rc||o instanceof jc?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Fv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},zv=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,c=i.statusText;if(i.ok){var d,p;if(r.method!=="HEAD"){var v;const g=await i.text();g===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((v=r.headers.get("Accept"))===null||v===void 0)&&v.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const w=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),_=(p=i.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");w&&_&&_.length>1&&(l=parseInt(_[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const w=await i.text();try{a=JSON.parse(w),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,c="OK")}catch{i.status===404&&w===""?(u=204,c="No Content"):a={message:w}}if(a&&r.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,u=200,c="OK"),a&&r.shouldThrowOnError)throw new Fv(a)}return{error:a,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var u,c,d,p;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";o=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${y}`,w&&(o+=` (${w})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var v;o=(v=i==null?void 0:i.stack)!==null&&v!==void 0?v:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Wv=class extends zv{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Ic=new RegExp("[,()]");var Hr=class extends Wv{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ic.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Ic.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Kv=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),n&&l.append("Prefer",`count=${n}`),new Hr({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),r||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new Hr({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),n&&l.append("Prefer",`count=${n}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);o.searchParams.set("columns",c.join(","))}}return new Hr({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new Hr({method:n,url:s,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE",{url:n,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Hr({method:r,url:n,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Vv=class $f{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Kv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new $f(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const c=v=>v!==null&&typeof v=="object"&&(!Array.isArray(v)||v.some(c)),d=n&&Object.values(r).some(c);d?(o="POST",u=r):n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([v,y])=>y!==void 0).map(([v,y])=>[v,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([v,y])=>{l.searchParams.append(v,y)})):(o="POST",u=r);const p=new Headers(this.headers);return d?p.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&p.set("Prefer",`count=${i}`),new Hr({method:o,url:l,headers:p,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Gv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const s=n.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Hv="2.91.1",qv=`realtime-js/${Hv}`,Jv="1.0.0",Df="2.0.0",Lc=Df,Zo=1e4,Yv=1e3,Qv=100;var Ft;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ft||(Ft={}));var he;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(he||(he={}));var dt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dt||(dt={}));var el;(function(e){e.websocket="websocket"})(el||(el={}));var wr;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(wr||(wr={}));class Xv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,c=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+d.length,v=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(v),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,a.length),y.setUint8(w++,u.length),y.setUint8(w++,d.length),y.setUint8(w++,r),Array.from(l,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(o,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(a,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(u,g=>y.setUint8(w++,g.charCodeAt(0))),Array.from(d,g=>y.setUint8(w++,g.charCodeAt(0)));var _=new Uint8Array(v.byteLength+n.byteLength);return _.set(new Uint8Array(v),0),_.set(new Uint8Array(n),v.byteLength),_.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,i,a,o,l]=n;return r({join_ref:s,ref:i,topic:a,event:o,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const c=n.decode(t.slice(l,l+i));l=l+i;const d=n.decode(t.slice(l,l+a));l=l+a;const p=t.slice(l,t.byteLength),v=o===this.JSON_ENCODING?JSON.parse(n.decode(p)):p,y={type:this.BROADCAST_EVENT,event:c,payload:v};return a>0&&(y.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Uf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(H||(H={}));const $c=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=Zv(a,e,t,s),i),{}):{}},Zv=(e,t,r,n)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=r[e];return i&&!n.includes(i)?Mf(i,a):tl(a)},Mf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return ny(t,r)}switch(e){case H.bool:return ey(t);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return ty(t);case H.json:case H.jsonb:return ry(t);case H.timestamp:return sy(t);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return tl(t);default:return tl(t)}},tl=e=>e,ey=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ty=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ry=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ny=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const a=e.slice(1,r);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Mf(t,o))}return e},sy=e=>typeof e=="string"?e.replace(" ","T"):e,Bf=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Ga{constructor(t,r,n={},s=Zo){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Dc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Dc||(Dc={}));class ts{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ts.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=ts.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ts.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),a=this.transformState(r),o={},l={};return this.map(i,(u,c)=>{a[u]||(l[u]=c)}),this.map(a,(u,c)=>{const d=i[u];if(d){const p=c.map(_=>_.presence_ref),v=d.map(_=>_.presence_ref),y=c.filter(_=>v.indexOf(_.presence_ref)<0),w=d.filter(_=>p.indexOf(_.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const c=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),c.length>0){const d=t[o].map(v=>v.presence_ref),p=c.filter(v=>d.indexOf(v.presence_ref)<0);t[o].unshift(...p)}n(o,c,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Uc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Uc||(Uc={}));var rs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(rs||(rs={}));var xt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(xt||(xt={}));class un{constructor(t,r={config:{}},n){var s,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=he.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ga(this,dt.join,this.params,this.timeout),this.rejoinTimer=new Uf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=he.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=he.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=he.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new ts(this),this.broadcastEndpointURL=Bf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==he.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[rs.PRESENCE]&&this.bindings[rs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},p={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(xt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(xt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),v===void 0){t==null||t(xt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,_=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,g=[];for(let f=0;f<_;f++){const m=w[f],{filter:{event:S,schema:x,table:E,filter:T}}=m,A=v&&v[f];if(A&&A.event===S&&un.isFilterValueEqual(A.schema,x)&&un.isFilterValueEqual(A.table,E)&&un.isFilterValueEqual(A.filter,T))g.push(Object.assign(Object.assign({},m),{id:A.id}));else{this.unsubscribe(),this.state=he.errored,t==null||t(xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(xt.SUBSCRIBED);return}}).receive("error",v=>{this.state=he.errored,t==null||t(xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===he.joined&&t===rs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=he.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ga(this,dt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=he.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ga(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Qv){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=dt;if(n&&[o,l,u,c].indexOf(a)>=0&&n!==this._joinRef())return;let p=this._onMessage(a,r,n);if(r&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,w,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(w=v.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(v=>v.callback(p,n)):(i=this.bindings[a])===null||i===void 0||i.filter(v=>{var y,w,_,g,f,m,S,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const E=v.id,T=(y=v.filter)===null||y===void 0?void 0:y.event;return E&&((w=r.ids)===null||w===void 0?void 0:w.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))&&(!(!((g=v.filter)===null||g===void 0)&&g.table)||v.filter.table===((f=r.data)===null||f===void 0?void 0:f.table))}else{const E=(S=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return E==="*"||E===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:_,commit_timestamp:g,type:f,errors:m}=y;p=Object.assign(Object.assign({},{schema:w,table:_,commit_timestamp:g,eventType:f,new:{},old:{},errors:m}),this._getPayloadRecords(y))}v.callback(p,n)})}_isClosed(){return this.state===he.closed}_isJoined(){return this.state===he.joined}_isJoining(){return this.state===he.joining}_isLeaving(){return this.state===he.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&un.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dt.close,{},t)}_onError(t){this._on(dt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=he.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=$c(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=$c(t.columns,t.old_record)),r}}const Ha=()=>{},ri={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},iy=[1e3,2e3,5e3,1e4],ay=1e4,oy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ly{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Zo,this.transport=null,this.heartbeatIntervalMs=ri.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ha,this.ref=0,this.reconnectTimer=null,this.vsn=Lc,this.logger=Ha,this.conn=null,this.sendBuffer=[],this.serializer=new Xv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${el.websocket}`,this.httpEndpoint=Bf(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Gv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ft.connecting:return wr.Connecting;case Ft.open:return wr.Open;case Ft.closing:return wr.Closing;default:return wr.Closed}}isConnected(){return this.connectionState()===wr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new un(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Yv,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ri.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:s,payload:i,ref:a}=r,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ft.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ft.open||this.conn.readyState===Ft.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(dt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([oy],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const i={access_token:r,version:qv};r&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(dt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Uf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ri.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,i,a,o,l,u,c,d,p,v;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Zo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ri.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:Ha,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Lc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:y=>iy[y-1]||ay,this.vsn){case Jv:this.encode=(c=t==null?void 0:t.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(y,w)=>w(JSON.parse(y));break;case Df:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(v=t==null?void 0:t.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ks=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uy(e,t,r){const n=new URL(t,e);if(r)for(const[s,i]of Object.entries(r))i!==void 0&&n.searchParams.set(s,i);return n.toString()}async function cy(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dy(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:a}){const o=uy(e.baseUrl,n,s),l=await cy(e.auth),u=await t(o,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),c=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),p=d&&c?JSON.parse(c):c;if(!u.ok){const v=d?p:void 0,y=v==null?void 0:v.error;throw new ks((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:v})}return{status:u.status,headers:u.headers,data:p}}}}function ni(e){return e.join("")}var hy=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:ni(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ni(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ni(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ni(e.namespace)}`}),!0}catch(t){if(t instanceof ks&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof ks&&r.status===409)return;throw r}}};function Mr(e){return e.join("")}var fy=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Mr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof ks&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ks&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},py=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dy({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new hy(this.client,t),this.tableOps=new fy(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},pa=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function te(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var my=class extends pa{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},rl=class extends pa{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const lu=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gy=()=>Response,nl=e=>{if(Array.isArray(e))return e.map(r=>nl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=nl(n)}),t},vy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yy=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Es(e){"@babel/helpers - typeof";return Es=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function wy(e,t){if(Es(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Es(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _y(e){var t=wy(e,"string");return Es(t)=="symbol"?t:t+""}function Sy(e,t,r){return(t=_y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mc(Object(r),!0).forEach(function(n){Sy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mc(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const qa=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},ky=async(e,t,r)=>{e instanceof await gy()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,i=(n==null?void 0:n.statusCode)||s+"";t(new my(qa(n),s,i))}).catch(n=>{t(new rl(qa(n),n))}):t(new rl(qa(e),e))},Ey=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(vy(n)?(s.headers=L({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),L(L({},s),r))};async function Is(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,Ey(t,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ky(l,o,n))})}async function xs(e,t,r,n){return Is(e,"GET",t,r,n)}async function ut(e,t,r,n,s){return Is(e,"POST",t,n,s,r)}async function sl(e,t,r,n,s){return Is(e,"PUT",t,n,s,r)}async function xy(e,t,r,n){return Is(e,"HEAD",t,L(L({},r),{},{noResolveJson:!0}),n)}async function uu(e,t,r,n,s){return Is(e,"DELETE",t,n,s,r)}var by=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}}};let Ff;Ff=Symbol.toStringTag;var Ty=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ff]="BlobDownloadBuilder",this.promise=null}asStream(){return new by(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(te(t))return{data:null,error:t};throw t}}};const Ay={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Oy=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=lu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let i;const a=L(L({},Bc),n);let o=L(L({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(o=L(L({},o),n.headers));const u=s._removeEmptyFolders(t),c=s._getFinalPath(u),d=await(e=="PUT"?sl:ut)(s.fetch,`${s.url}/object/${c}`,i,L({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(s.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const u=L({upsert:Bc.upsert},n),c=L(L({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:i,fullPath:(await sl(s.fetch,o.toString(),l,{headers:c})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(te(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=L({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ut(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+i.url),o=a.searchParams.get("token");if(!o)throw new pa("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await ut(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await ut(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),i=await ut(n.fetch,`${n.url}/object/sign/${s}`,L({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await ut(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>L(L({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e),a=()=>xs(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Ty(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:nl(await xs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await xy(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(te(n)&&n instanceof rl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${o}`)}}}async remove(e){var t=this;try{return{data:await uu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=L(L(L({},Ay),t),{},{prefix:e||""});return{data:await ut(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=L({},e);return{data:await ut(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const zf="2.91.1",Wf={"X-Client-Info":`storage-js/${zf}`};var Cy=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=L(L({},Wf),t),this.fetch=lu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await xs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await xs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await ut(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await sl(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await uu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ny=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},Wf),t),this.fetch=lu(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ut(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await xs(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await uu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!yy(e))throw new pa("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new py({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const cu={"X-Client-Info":`storage-js/${zf}`,"Content-Type":"application/json"};var Kf=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function We(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ja=class extends Kf{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Py=class extends Kf{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const du=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),jy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Fc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ry=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(i=>{const a=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new Ja(Fc(i),n,a))}).catch(()=>{const i=n+"";t(new Ja(s.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new Ja(s.statusText||`HTTP ${n} error`,n,i))}}else t(new Py(Fc(e),e))},Iy=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(jy(n)?(s.headers=L({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,L(L({},s),r)):s};async function Ly(e,t,r,n,s,i){return new Promise((a,o)=>{e(r,Iy(t,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Ry(l,o,n))})}async function Ke(e,t,r,n,s){return Ly(e,"POST",t,n,s,r)}var $y=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},cu),t),this.fetch=du(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Ke(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Ke(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(We(n))return{data:null,error:n};throw n}}},Dy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},cu),t),this.fetch=du(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ke(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ke(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ke(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}},Uy=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},cu),t),this.fetch=du(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Ke(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(We(r))return{data:null,error:r};throw r}}},My=class extends Uy{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new By(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},By=class extends $y{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Fy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Fy=class extends Dy{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},zy=class extends Cy{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Oy(this.url,this.headers,e,this.fetch)}get vectors(){return new My(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ny(this.url+"/iceberg",this.headers,this.fetch)}};const Vf="2.91.1",qr=30*1e3,il=3,Ya=il*qr,Wy="http://localhost:9999",Ky="supabase.auth.token",Vy={"X-Client-Info":`gotrue-js/${Vf}`},al="X-Supabase-Api-Version",Gf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Gy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Hy=10*60*1e3;class bs extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function j(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class qy extends bs{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jy(e){return j(e)&&e.name==="AuthApiError"}class _r extends bs{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class It extends bs{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Fe extends It{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Yy(e){return j(e)&&e.name==="AuthSessionMissingError"}class Br extends It{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class si extends It{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ii extends It{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Qy(e){return j(e)&&e.name==="AuthImplicitGrantRedirectError"}class zc extends It{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xy extends It{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class ol extends It{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qa(e){return j(e)&&e.name==="AuthRetryableFetchError"}class Wc extends It{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ll extends It{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Kc=`
\r=`.split(""),Zy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Kc.length;t+=1)e[Kc[t].charCodeAt(0)]=-2;for(let t=0;t<Vi.length;t+=1)e[Vi[t].charCodeAt(0)]=t;return e})();function Vc(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vi[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Vi[n]),t.queuedBits-=6}}function Hf(e,t,r){const n=Zy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gc(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{rw(a,n,r)};for(let a=0;a<e.length;a+=1)Hf(e.charCodeAt(a),s,i);return t.join("")}function ew(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tw(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ew(n,t)}}function rw(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function gn(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Hf(e.charCodeAt(s),r,n);return new Uint8Array(t)}function nw(e){const t=[];return tw(e,r=>t.push(r)),new Uint8Array(t)}function br(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Vc(s,r,n)),Vc(null,r,n),t.join("")}function sw(e){return Math.round(Date.now()/1e3)+e}function iw(){return Symbol("auth-callback")}const ye=()=>typeof window<"u"&&typeof document<"u",fr={tested:!1,writable:!1},qf=()=>{if(!ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fr.tested)return fr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),fr.tested=!0,fr.writable=!0}catch{fr.tested=!0,fr.writable=!1}return fr.writable};function aw(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Jf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ow=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Jr=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},pr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ve=async(e,t)=>{await e.removeItem(t)};class ma{constructor(){this.promise=new ma.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ma.promiseConstructor=Promise;function Xa(e){const t=e.split(".");if(t.length!==3)throw new ll("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Gy.test(t[n]))throw new ll("JWT not in base64url format");return{header:JSON.parse(Gc(t[0])),payload:JSON.parse(Gc(t[1])),signature:gn(t[2]),raw:{header:t[0],payload:t[1]}}}async function lw(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function uw(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){n(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function cw(e){return("0"+e.toString(16)).substr(-2)}function dw(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,cw).join("")}async function hw(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function fw(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hw(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Fr(e,t,r=!1){const n=dw();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Jr(e,`${t}-code-verifier`,s);const i=await fw(n);return[i,n===i?"plain":"s256"]}const pw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mw(e){const t=e.headers.get(al);if(!t||!t.match(pw))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gw(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vw(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(e){if(!yw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Za(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function ww(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function Hc(e){return JSON.parse(JSON.stringify(e))}const vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_w=[502,503,504];async function qc(e){var t;if(!ow(e))throw new ol(vr(e),0);if(_w.includes(e.status))throw new ol(vr(e),e.status);let r;try{r=await e.json()}catch(i){throw new _r(vr(i),i)}let n;const s=mw(e);if(s&&s.getTime()>=Gf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Wc(vr(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Fe}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Wc(vr(r),e.status,r.weak_password.reasons);throw new qy(vr(r),e.status||500,n)}const Sw=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function I(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[al]||(i[al]=Gf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await kw(e,t,r+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function kw(e,t,r,n,s,i){const a=Sw(t,n,s,i);let o;try{o=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new ol(vr(l),0)}if(o.ok||await qc(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await qc(l)}}function ot(e){var t;let r=null;bw(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sw(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Jc(e){const t=ot(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Ew(e){return{data:e,error:null}}function xw(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,a=fa(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Yc(e){return e}function bw(e){return e.access_token&&e.refresh_token&&e.expires_in}const eo=["global","local","others"];class Tw{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Jf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=eo[0]){if(eo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${eo.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kt})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=fa(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:xw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(j(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Yc});if(c.error)throw c.error;const d=await c.json(),p=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(j(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){zr(t);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kt})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){zr(t);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Kt})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){zr(t);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kt})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){zr(t.userId);try{const{data:r,error:n}=await I(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(j(r))return{data:null,error:r};throw r}}async _deleteFactor(t){zr(t.userId),zr(t.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await I(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Yc});if(c.error)throw c.error;const d=await c.json(),p=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(j(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await I(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await I(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(j(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await I(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await I(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(j(r))return{data:null,error:r};throw r}}}function Qc(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Wr={debug:!!(globalThis&&qf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Aw extends Yf{}async function Ow(e,t,r){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Wr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Aw(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Wr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Cw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Qf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Nw(e){return parseInt(e,16)}function Pw(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function jw(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:c,uri:d,version:p}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const v=Qf(e.address),y=c?`${c}://${n}`:n,w=e.statement?`${e.statement}
`:"",_=`${y} wants you to sign in with your Ethereum account:
${v}

${w}`;let g=`URI: ${d}
Version: ${p}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let f=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);f+=`
- ${m}`}g+=f}return`${_}
${g}`}class ce extends Error{constructor({message:t,code:r,cause:n,name:s}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Gi extends ce{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Rw({error:e,options:t}){var r,n,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ce({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ce({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ce({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ce({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ce({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new ce({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ce({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(Xf(a)){if(i.rp.id!==a)return new ce({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ce({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Iw({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ce({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ce({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Xf(n)){if(r.rpId!==n)return new ce({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ce({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ce({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ce({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Lw{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const $w=new Lw;function Dw(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=fa(e,["challenge","user","excludeCredentials"]),i=gn(t).buffer,a=Object.assign(Object.assign({},r),{id:gn(r.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:gn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Uw(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=fa(e,["challenge","allowCredentials"]),s=gn(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:gn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function Mw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:br(new Uint8Array(e.response.attestationObject)),clientDataJSON:br(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Bw(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:br(new Uint8Array(s.authenticatorData)),clientDataJSON:br(new Uint8Array(s.clientDataJSON)),signature:br(new Uint8Array(s.signature)),userHandle:s.userHandle?br(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Xf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Xc(){var e,t;return!!(ye()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Fw(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",t)}:{data:null,error:new Gi("Empty credential response",t)}}catch(t){return{data:null,error:Rw({error:t,options:e})}}}async function zw(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Gi("Browser returned unexpected credential type",t)}:{data:null,error:new Gi("Empty credential response",t)}}catch(t){return{data:null,error:Iw({error:t,options:e})}}}const Ww={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Kw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))n[i]=a;else if(r(a))n[i]=a;else if(t(a)){const o=n[i];t(o)?n[i]=Hi(o,a):n[i]=Hi(a)}else n[i]=a}return n}function Vw(e,t){return Hi(Ww,e,t||{})}function Gw(e,t){return Hi(Kw,e,t||{})}class Hw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:o};const l=s??$w.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Vw(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:d}=await Fw({publicKey:u,signal:l});return c?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}case"request":{const u=Gw(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:d}=await zw(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:c}},error:null}:{data:null,error:d}}}}catch(a){return j(a)?{data:null,error:a}:{data:null,error:new _r("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new bs("rpId is required for WebAuthn authentication")};try{if(!Xc())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return j(a)?{data:null,error:a}:{data:null,error:new _r("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new bs("rpId is required for WebAuthn registration")};try{if(!Xc())return{data:null,error:new _r("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(c=>{var d;return(d=c.data)===null||d===void 0?void 0:d.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return j(a)?{data:null,error:a}:{data:null,error:new _r("Unexpected error in register",a)}}}}Cw();const qw={url:Wy,storageKey:Ky,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Zc(e,t,r){return await r()}const Kr={};class Ts{get jwks(){var t,r;return(r=(t=Kr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Kr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Kr[this.storageKey]=Object.assign(Object.assign({},Kr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},qw),t);if(this.storageKey=i.storageKey,this.instanceID=(r=Ts.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Ts.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&ye()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Tw({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Jf(i.fetch),this.lock=i.lock||Zc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Ow:this.lock=Zc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Hw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:qf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qc(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Qc(this.memoryStorage)),ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Vf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(ye()&&(r=aw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ye()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Qy(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return j(r)?this._returnResult({error:r}):this._returnResult({error:new _r("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:ot}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:c,password:d,options:p}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Fr(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:d,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:v,code_challenge_method:y},xform:ot})}else if("phone"in t){const{phone:c,password:d,options:p}=t;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ot})}else throw new si("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:a,options:o}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Jc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;r=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Jc})}else throw new si("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new Br;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,i,a,o,l,u,c,d,p;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:_,statement:g,options:f}=t;let m;if(ye())if(typeof _=="object")m=_;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")m=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(f!=null&&f.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=_}const S=new URL((r=f==null?void 0:f.url)!==null&&r!==void 0?r:window.location.href),x=await m.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!x||x.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=Qf(x[0]);let T=(n=f==null?void 0:f.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const B=await m.request({method:"eth_chainId"});T=Nw(B)}const A={domain:S.host,address:E,statement:g,uri:S.href,version:"1",chainId:T,nonce:(s=f==null?void 0:f.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=f==null?void 0:f.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=f==null?void 0:f.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=f==null?void 0:f.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=f==null?void 0:f.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=f==null?void 0:f.signInWithEthereum)===null||c===void 0?void 0:c.resources};v=jw(A),y=await m.request({method:"personal_sign",params:[Pw(v),E]})}try{const{data:w,error:_}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:y},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ot});if(_)throw _;if(!w||!w.session||!w.user){const g=new Br;return this._returnResult({data:{user:null,session:null},error:g})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(j(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(t){var r,n,s,i,a,o,l,u,c,d,p,v;let y,w;if("message"in t)y=t.message,w=t.signature;else{const{chain:_,wallet:g,statement:f,options:m}=t;let S;if(ye())if(typeof g=="object")S=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))S=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=g}const x=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in S&&S.signIn){const E=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:x.host,uri:x.href}),f?{statement:f}:null));let T;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")T=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)T=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)y=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${x.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...f?["",f,""]:[""],"Version: 1",`URI: ${x.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(c=m==null?void 0:m.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const E=await S.signMessage(new TextEncoder().encode(y),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:_,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:br(w)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:ot});if(g)throw g;if(!_||!_.session||!_.user){const f=new Br;return this._returnResult({data:{user:null,session:null},error:f})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:g})}catch(_){if(j(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(t){const r=await pr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Xy;const{data:i,error:a}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ot});if(await ve(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new Br;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:a}=t,o=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ot}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Br;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Fr(this.storage,this.storageKey));const{error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:c}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new si("You must provide either an email or phone number.")}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ot});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Fr(this.storage,this.storageKey));const u=await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Ew});return!((i=u.data)===null||i===void 0)&&i.url&&ye()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),j(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Fe;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(j(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:a}=await I(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:a,error:o}=await I(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new si("You must provide either an email or phone number and a type")}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await pr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Ya:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await pr(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Za()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=ww(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kt}):await this._useSession(async r=>{var n,s,i;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Fe}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(r){if(j(r))return Yy(r)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Fe;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await Fr(this.storage,this.storageKey));const{data:u,error:c}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Kt});if(c)throw c;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await ve(this.storage,`${this.storageKey}-code-verifier`),j(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Fe;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:a}=Xa(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(j(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:o}=r;if(o)throw o;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Fe;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(j(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!ye())throw new ii("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ii(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new zc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ii("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new zc("No code detected.");const{data:f,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:f.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new ii("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(o);let p=c+d;l&&(p=parseInt(l));const v=p-c;v*1e3<=qr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const y=p-d;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:w,error:_}=await this._getUser(i);if(_)throw _;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:p,refresh_token:a,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(j(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await pr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Jy(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=iw(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Fr(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),j(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,u,c;const{data:d,error:p}=i;if(p)throw p;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return ye()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(j(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:c}=t,d=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ot}),{data:p,error:v}=d;return v?this._returnResult({data:{user:null,session:null},error:v}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Br}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:v}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),j(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)throw a;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await uw(async s=>(s>0&&await lw(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ot})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Qa(i)&&Date.now()+a-n<qr})}catch(n){if(this._debug(r,"error",n),j(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),ye()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await pr(this.storage,this.storageKey);if(s&&this.userStorage){let a=await pr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Jr(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Za()}else if(s&&!s.user&&!s.user){const a=await pr(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ve(this.storage,this.storageKey+"-user"),await Jr(this.storage,this.storageKey,s)):s.user=Za()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ya;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Ya}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Qa(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Fe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ma;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Fe;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),j(i)){const a={data:null,error:i};return Qa(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,r)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Jr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Hc(s);await Jr(this.storage,this.storageKey,i)}else{const s=Hc(r);await Jr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),qr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/qr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${qr}ms, refresh threshold is ${il} ticks`),s<=il&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Fr(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await I(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await I(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Mw(t.webauthn.credential_response):Bw(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const a=await I(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Dw(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:Uw(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xa(n.access_token);let a=null;i.aal&&(a=i.aal);let o=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=i.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await I(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Fe})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Fe});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Fe});const a=await I(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ye()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await I(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Fe})})}catch(t){if(j(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await I(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Fe})})}catch(r){if(j(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Hy>s)return n;const{data:i,error:a}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(o=>o.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return this._returnResult({data:null,error:y});n=v.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Xa(n);r!=null&&r.allowExpired||gw(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:a},error:null}}const c=vw(s.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,a,nw(`${o}.${l}`)))throw new ll("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(j(n))return this._returnResult({data:null,error:n});throw n}}}Ts.nextInstanceID={};const Jw=Ts,Yw="2.91.1";let Vn="";typeof Deno<"u"?Vn="deno":typeof document<"u"?Vn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vn="react-native":Vn="node";const Qw={"X-Client-Info":`supabase-js-${Vn}/${Yw}`},Xw={headers:Qw},Zw={schema:"public"},e0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t0={};function As(e){"@babel/helpers - typeof";return As=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},As(e)}function r0(e,t){if(As(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(As(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function n0(e){var t=r0(e,"string");return As(t)=="symbol"?t:t+""}function s0(e,t,r){return(t=n0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ed(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ed(Object(r),!0).forEach(function(n){s0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const i0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),a0=()=>Headers,o0=(e,t,r)=>{const n=i0(r),s=a0();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,ie(ie({},a),{},{headers:u}))}};function l0(e){return e.endsWith("/")?e:e+"/"}function u0(e,t){var r,n;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:c,global:d}=t,p={db:ie(ie({},l),s),auth:ie(ie({},u),i),realtime:ie(ie({},c),a),storage:{},global:ie(ie(ie({},d),o),{},{headers:ie(ie({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function c0(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l0(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var d0=class extends Jw{constructor(e){super(e)}},h0=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const i=c0(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:Zw,realtime:t0,auth:ie(ie({},e0),{},{storageKey:a}),global:Xw},l=u0(r??{},o);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=o0(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ie({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new Vv(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new zy(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Bv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},c,d){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d0({url:this.authUrl.href,headers:ie(ie({},p),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ly(this.realtimeUrl.href,ie(ie({},e),{},{params:ie(ie({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const f0=(e,t,r)=>new h0(e,t,r);function p0(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}p0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m0=void 0,g0=void 0,tt=f0(m0,g0);function v0(){const[e,t]=k.useState(""),[r,n]=k.useState(""),[s,i]=k.useState(""),a=ha(),o=async l=>{l.preventDefault(),i("");const{error:u}=await tt.auth.signInWithPassword({email:e,password:r});u?(console.error(" Admin Login failed:",u.message),i("Invalid email or password")):(console.log(" Admin Login successful"),a("/dashboard"))};return h.jsxs("div",{className:"login-container",children:[h.jsxs("div",{className:"welcome-overlay-text",children:[h.jsxs("h1",{className:"welcome-title-overlay",children:["Welcome to"," ",h.jsx("span",{className:"nutricare-highlight-overlay",children:"NutriCare!"})]}),h.jsx("p",{className:"tagline-overlay",children:"Monitor. Nourish. Grow."})]}),h.jsxs("div",{className:"login-card",children:[h.jsx("h2",{className:"login-title",children:"NutriCare Admin"}),h.jsx("p",{className:"login-description",children:"Monitoring the health of the students"}),h.jsxs("form",{onSubmit:o,children:[h.jsx("input",{type:"email",placeholder:"E-mail",value:e,onChange:l=>t(l.target.value),required:!0}),h.jsx("input",{type:"password",placeholder:"Password",value:r,onChange:l=>n(l.target.value),required:!0}),h.jsx("button",{type:"submit",className:"login-btn",children:"Login"}),s&&h.jsx("p",{className:"login-error",children:s})]})]})]})}/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),w0=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),td=e=>{const t=w0(e);return t.charAt(0).toUpperCase()+t.slice(1)},Zf=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),_0=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=k.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:a,...o},l)=>k.createElement("svg",{ref:l,...S0,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Zf("lucide",s),...!i&&!_0(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,c])=>k.createElement(u,c)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=(e,t)=>{const r=k.forwardRef(({className:n,...s},i)=>k.createElement(k0,{ref:i,iconNode:t,className:Zf(`lucide-${y0(td(e))}`,`lucide-${e}`,n),...s}));return r.displayName=td(e),r};/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],x0=ga("chart-column",E0);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],T0=ga("graduation-cap",b0);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],O0=ga("user-check",A0);/**
 * @license lucide-react v0.553.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],N0=ga("x",C0);function P0(){const[e,t]=k.useState(0),[r,n]=k.useState(0),[s,i]=k.useState(!0);k.useEffect(()=>{(async()=>{try{const{count:l,error:u}=await tt.from("students").select("*",{count:"exact",head:!0});if(u)throw u;t(l);const{count:c,error:d}=await tt.from("teachers").select("*",{count:"exact",head:!0});if(d)throw d;n(c)}catch(l){console.error("Error fetching dashboard data:",l)}finally{i(!1)}})()},[]);const a=[{id:1,title:"Total Students",value:s?"...":e,color:"green",icon:h.jsx(T0,{})},{id:2,title:"Total Teachers",value:s?"...":r,color:"blue",icon:h.jsx(O0,{})},{id:3,title:"Active Reports",value:8,color:"orange",icon:h.jsx(x0,{})}];return h.jsxs("div",{className:"dashboard-page",children:[h.jsxs("header",{className:"dashboard-header",children:[h.jsx("h2",{children:"Dashboard Overview"}),h.jsx("p",{className:"subtitle",children:"Monitor key metrics across the system."})]}),h.jsx("section",{className:"dashboard-cards",children:a.map(o=>h.jsxs("article",{className:`dashboard-card ${o.color}`,children:[h.jsx("div",{className:"icon-area",children:o.icon}),h.jsxs("div",{className:"stat-info",children:[h.jsx("h4",{children:o.title}),h.jsx("div",{className:"stat-value",children:o.value})]})]},o.id))}),h.jsxs("section",{className:"welcome-section",children:[h.jsx("h3",{children:"Welcome, Admin!"}),h.jsx("p",{children:"This is your main dashboard. Live student and teacher counts are now powered by Supabase."})]})]})}function j0(){const[e,t]=k.useState("students"),[r,n]=k.useState([]),[s,i]=k.useState([]),[a,o]=k.useState("All"),[l,u]=k.useState("All"),[c,d]=k.useState(!0),[p,v]=k.useState(!1),[y,w]=k.useState(null),[_,g]=k.useState({idNumber:"",firstName:"",lastName:"",email:"",section:""});k.useEffect(()=>{e==="students"?f():m()},[e]);async function f(){d(!0);const{data:C,error:J}=await tt.from("students").select("*");if(J)console.error("Error fetching students:",J);else{const Be=C.map(K=>({id:K.id,name:K.name||K.full_name||"Unknown",gradeSection:K.grade_section||K.grade||"Unknown",sex:K.sex||"-",nutritionStatus:K.nutrition_status||K.nutritionStatus||"-"}));Be.sort((K,O)=>K.name.localeCompare(O.name)),n(Be)}d(!1)}async function m(){d(!0);const{data:C,error:J}=await tt.from("teachers").select("*").order("last_name",{ascending:!0});if(J)console.error("Error fetching teachers:",J);else{const Be=C.map(K=>({uid:K.id,idNumber:K.teacher_id_number||"",firstName:K.first_name||"",lastName:K.last_name||"",email:K.email||"",section:K.section||"",active:K.active??!0,createdAt:K.created_at,deactivatedAt:K.deactivated_at}));i(Be)}d(!1)}function S(){w(null),g({idNumber:"",firstName:"",lastName:"",email:"",section:""}),v(!0)}function x(C){w(C),g({idNumber:C.idNumber,firstName:C.firstName,lastName:C.lastName,email:C.email,section:C.section}),v(!0)}function E(){v(!1),w(null)}function T(C){g({..._,[C.target.name]:C.target.value})}async function A(C){if(C.preventDefault(),y){const{error:J}=await tt.from("teachers").update({teacher_id_number:_.idNumber||null,first_name:_.firstName,last_name:_.lastName,email:_.email,section:_.section}).eq("id",y.uid);J&&console.error("Update error:",J)}else{const{error:J}=await tt.from("teachers").insert({teacher_id_number:_.idNumber||null,first_name:_.firstName,last_name:_.lastName,email:_.email,section:_.section,active:!0});J&&console.error("Insert error:",J)}E(),m()}async function B(C){const{error:J}=await tt.from("teachers").update({active:!C.active,deactivated_at:C.active?new Date().toISOString():null}).eq("id",C.uid);J?console.error("Toggle active error:",J):m()}async function D(C){if(!window.confirm("Permanently delete this teacher?"))return;const{error:J}=await tt.from("teachers").delete().eq("id",C.uid);J?console.error("Delete error:",J):m()}const ke=[...new Set(r.map(C=>C.gradeSection))].sort(),Ye=[...new Set(r.map(C=>C.sex))].sort(),Me=r.filter(C=>{const J=a==="All"||C.gradeSection===a,Be=l==="All"||C.sex===l;return J&&Be});return Me.sort((C,J)=>C.name.localeCompare(J.name)),h.jsxs("div",{className:"student-page",children:[h.jsxs("div",{className:"header-area",children:[h.jsx("h1",{children:"Management"}),e==="teachers"&&h.jsx("div",{className:"button-row",children:h.jsx("button",{className:"btn add",onClick:S,children:"+ Add Teacher"})})]}),h.jsxs("div",{className:"tab-navigation",children:[h.jsx("button",{className:`tab-btn ${e==="students"?"active-tab":""}`,onClick:()=>t("students"),children:"Students"}),h.jsx("button",{className:`tab-btn ${e==="teachers"?"active-tab":""}`,onClick:()=>t("teachers"),children:"Teachers"})]}),c?h.jsx("p",{children:"Loading..."}):h.jsxs("div",{className:"table-card",children:[e==="students"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"filter-row",children:[h.jsxs("label",{children:["Filter by Section:",h.jsxs("select",{value:a,onChange:C=>o(C.target.value),children:[h.jsx("option",{value:"All",children:"All"}),ke.map(C=>h.jsx("option",{value:C,children:C},C))]})]}),h.jsxs("label",{children:["Filter by Gender:",h.jsxs("select",{value:l,onChange:C=>u(C.target.value),children:[h.jsx("option",{value:"All",children:"All"}),Ye.map(C=>h.jsx("option",{value:C,children:C},C))]})]})]}),h.jsxs("table",{className:"people-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Grade & Section"}),h.jsx("th",{children:"Sex"}),h.jsx("th",{children:"Nutrition Status"})]})}),h.jsx("tbody",{children:Me.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"4",style:{textAlign:"center"},children:"No students found."})}):Me.map(C=>h.jsxs("tr",{children:[h.jsx("td",{children:C.name}),h.jsx("td",{children:C.gradeSection}),h.jsx("td",{children:C.sex}),h.jsx("td",{children:C.nutritionStatus})]},C.id))})]})]}),e==="teachers"&&h.jsxs("table",{className:"people-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"ID No."}),h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Email"}),h.jsx("th",{children:"Section"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:s.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",style:{textAlign:"center"},children:"No teachers found."})}):s.map(C=>h.jsxs("tr",{className:C.active?"":"inactive",children:[h.jsx("td",{children:C.idNumber}),h.jsxs("td",{children:[C.firstName," ",C.lastName]}),h.jsx("td",{children:C.email}),h.jsx("td",{children:C.section}),h.jsx("td",{children:C.active?"Active":"Inactive"}),h.jsxs("td",{className:"actions-cell",children:[h.jsx("button",{className:"btn small edit",onClick:()=>x(C),children:"Edit"}),h.jsx("button",{className:`btn small ${C.active?"deactivate":"activate"}`,onClick:()=>B(C),children:C.active?"Deactivate":"Activate"}),h.jsx("button",{className:"btn small delete",onClick:()=>D(C),children:"Delete"})]})]},C.uid))})]})]}),p&&h.jsx("div",{className:"modal-overlay",children:h.jsxs("div",{className:"modal-card",children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h3",{children:y?"Edit Teacher":"Add Teacher"}),h.jsx("button",{className:"close-btn",onClick:E,children:""})]}),h.jsxs("form",{onSubmit:A,className:"modal-form",children:[h.jsxs("label",{children:["ID Number",h.jsx("input",{name:"idNumber",placeholder:"Teacher ID Number",value:_.idNumber,onChange:T})]}),h.jsxs("label",{children:["First Name",h.jsx("input",{name:"firstName",placeholder:"First Name",value:_.firstName,onChange:T,required:!0})]}),h.jsxs("label",{children:["Last Name",h.jsx("input",{name:"lastName",placeholder:"Last Name",value:_.lastName,onChange:T,required:!0})]}),h.jsxs("label",{children:["Email",h.jsx("input",{name:"email",type:"email",placeholder:"Email",value:_.email,onChange:T,required:!0})]}),h.jsxs("label",{children:["Section",h.jsx("input",{name:"section",placeholder:"Section",value:_.section,onChange:T})]}),h.jsxs("div",{className:"modal-actions",children:[h.jsx("button",{className:"btn add",type:"submit",children:"Save"}),h.jsx("button",{className:"btn cancel",type:"button",onClick:E,children:"Cancel"})]})]})]})})]})}const ep=6048e5,R0=864e5,rd=Symbol.for("constructDateFrom");function ir(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&rd in e?e[rd](t):e instanceof Date?new e.constructor(t):new Date(t)}function gt(e,t){return ir(t||e,e)}let I0={};function va(){return I0}function Os(e,t){var o,l,u,c;const r=va(),n=(t==null?void 0:t.weekStartsOn)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,s=gt(e,t==null?void 0:t.in),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function qi(e,t){return Os(e,{...t,weekStartsOn:1})}function tp(e,t){const r=gt(e,t==null?void 0:t.in),n=r.getFullYear(),s=ir(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=qi(s),a=ir(r,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const o=qi(a);return r.getTime()>=i.getTime()?n+1:r.getTime()>=o.getTime()?n:n-1}function nd(e){const t=gt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function L0(e,...t){const r=ir.bind(null,t.find(n=>typeof n=="object"));return t.map(r)}function sd(e,t){const r=gt(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function $0(e,t,r){const[n,s]=L0(r==null?void 0:r.in,e,t),i=sd(n),a=sd(s),o=+i-nd(i),l=+a-nd(a);return Math.round((o-l)/R0)}function D0(e,t){const r=tp(e,t),n=ir(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),qi(n)}function U0(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function M0(e){return!(!U0(e)&&typeof e!="number"||isNaN(+gt(e)))}function B0(e,t){const r=gt(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const F0={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},z0=(e,t,r)=>{let n;const s=F0[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function to(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const W0={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},K0={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},V0={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},G0={date:to({formats:W0,defaultWidth:"full"}),time:to({formats:K0,defaultWidth:"full"}),dateTime:to({formats:V0,defaultWidth:"full"})},H0={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},q0=(e,t,r,n)=>H0[e];function Mn(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=r!=null&&r.width?String(r.width):a;s=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[o]||e.values[a]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const J0={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Y0={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q0={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},X0={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Z0={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e_={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t_=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},r_={ordinalNumber:t_,era:Mn({values:J0,defaultWidth:"wide"}),quarter:Mn({values:Y0,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Mn({values:Q0,defaultWidth:"wide"}),day:Mn({values:X0,defaultWidth:"wide"}),dayPeriod:Mn({values:Z0,defaultWidth:"wide",formattingValues:e_,defaultFormattingWidth:"wide"})};function Bn(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const a=i[0],o=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?s_(o,d=>d.test(a)):n_(o,d=>d.test(a));let u;u=e.valueCallback?e.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=t.slice(a.length);return{value:u,rest:c}}}function n_(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function s_(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function i_(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],i=t.match(e.parsePattern);if(!i)return null;let a=e.valueCallback?e.valueCallback(i[0]):i[0];a=r.valueCallback?r.valueCallback(a):a;const o=t.slice(s.length);return{value:a,rest:o}}}const a_=/^(\d+)(th|st|nd|rd)?/i,o_=/\d+/i,l_={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},u_={any:[/^b/i,/^(a|c)/i]},c_={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d_={any:[/1/i,/2/i,/3/i,/4/i]},h_={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},f_={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p_={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m_={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g_={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v_={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y_={ordinalNumber:i_({matchPattern:a_,parsePattern:o_,valueCallback:e=>parseInt(e,10)}),era:Bn({matchPatterns:l_,defaultMatchWidth:"wide",parsePatterns:u_,defaultParseWidth:"any"}),quarter:Bn({matchPatterns:c_,defaultMatchWidth:"wide",parsePatterns:d_,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Bn({matchPatterns:h_,defaultMatchWidth:"wide",parsePatterns:f_,defaultParseWidth:"any"}),day:Bn({matchPatterns:p_,defaultMatchWidth:"wide",parsePatterns:m_,defaultParseWidth:"any"}),dayPeriod:Bn({matchPatterns:g_,defaultMatchWidth:"any",parsePatterns:v_,defaultParseWidth:"any"})},w_={code:"en-US",formatDistance:z0,formatLong:G0,formatRelative:q0,localize:r_,match:y_,options:{weekStartsOn:0,firstWeekContainsDate:1}};function __(e,t){const r=gt(e,t==null?void 0:t.in);return $0(r,B0(r))+1}function S_(e,t){const r=gt(e,t==null?void 0:t.in),n=+qi(r)-+D0(r);return Math.round(n/ep)+1}function rp(e,t){var c,d,p,v;const r=gt(e,t==null?void 0:t.in),n=r.getFullYear(),s=va(),i=(t==null?void 0:t.firstWeekContainsDate)??((d=(c=t==null?void 0:t.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(p=s.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,a=ir((t==null?void 0:t.in)||e,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=Os(a,t),l=ir((t==null?void 0:t.in)||e,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const u=Os(l,t);return+r>=+o?n+1:+r>=+u?n:n-1}function k_(e,t){var o,l,u,c;const r=va(),n=(t==null?void 0:t.firstWeekContainsDate)??((l=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,s=rp(e,t),i=ir((t==null?void 0:t.in)||e,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Os(i,t)}function E_(e,t){const r=gt(e,t==null?void 0:t.in),n=+Os(r,t)-+k_(r,t);return Math.round(n/ep)+1}function z(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ut={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return z(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):z(r+1,2)},d(e,t){return z(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return z(e.getHours()%12||12,t.length)},H(e,t){return z(e.getHours(),t.length)},m(e,t){return z(e.getMinutes(),t.length)},s(e,t){return z(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return z(s,t.length)}},Vr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},id={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Ut.y(e,t)},Y:function(e,t,r,n){const s=rp(e,n),i=s>0?s:1-s;if(t==="YY"){const a=i%100;return z(a,2)}return t==="Yo"?r.ordinalNumber(i,{unit:"year"}):z(i,t.length)},R:function(e,t){const r=tp(e);return z(r,t.length)},u:function(e,t){const r=e.getFullYear();return z(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return z(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return z(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ut.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return z(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=E_(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):z(s,t.length)},I:function(e,t,r){const n=S_(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):z(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ut.d(e,t)},D:function(e,t,r){const n=__(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):z(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return z(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return z(i,t.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return z(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Vr.noon:n===0?s=Vr.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Vr.evening:n>=12?s=Vr.afternoon:n>=4?s=Vr.morning:s=Vr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ut.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ut.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):z(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):z(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ut.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ut.s(e,t)},S:function(e,t){return Ut.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return od(n);case"XXXX":case"XX":return yr(n);case"XXXXX":case"XXX":default:return yr(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return od(n);case"xxxx":case"xx":return yr(n);case"xxxxx":case"xxx":default:return yr(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ad(n,":");case"OOOO":default:return"GMT"+yr(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ad(n,":");case"zzzz":default:return"GMT"+yr(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return z(n,t.length)},T:function(e,t,r){return z(+e,t.length)}};function ad(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+t+z(i,2)}function od(e,t){return e%60===0?(e>0?"-":"+")+z(Math.abs(e)/60,2):yr(e,t)}function yr(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=z(Math.trunc(n/60),2),i=z(n%60,2);return r+s+t+i}const ld=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},np=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},x_=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return ld(e,t);let i;switch(n){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",ld(n,t)).replace("{{time}}",np(s,t))},b_={p:np,P:x_},T_=/^D+$/,A_=/^Y+$/,O_=["D","DD","YY","YYYY"];function C_(e){return T_.test(e)}function N_(e){return A_.test(e)}function P_(e,t,r){const n=j_(e,t,r);if(console.warn(n),O_.includes(e))throw new RangeError(n)}function j_(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const R_=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,I_=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,L_=/^'([^]*?)'?$/,$_=/''/g,D_=/[a-zA-Z]/;function U_(e,t,r){var c,d,p,v;const n=va(),s=n.locale??w_,i=n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,a=n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,o=gt(e,r==null?void 0:r.in);if(!M0(o))throw new RangeError("Invalid time value");let l=t.match(I_).map(y=>{const w=y[0];if(w==="p"||w==="P"){const _=b_[w];return _(y,s.formatLong)}return y}).join("").match(R_).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const w=y[0];if(w==="'")return{isToken:!1,value:M_(y)};if(id[w])return{isToken:!0,value:y};if(w.match(D_))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const u={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const w=y.value;(N_(w)||C_(w))&&P_(w,t,String(e));const _=id[w[0]];return _(o,w,s.localize,u)}).join("")}function M_(e){const t=e.match(L_);return t?t[1].replace($_,"'"):e}const Tr={K1:["MASAYAHIN & MAPAGBIGAY","AKTIBO & BAYANIHAN","MASUNURIN & MAPAG-ALAGA","MAGITING & MARIKIT","MAHINHIN & MAKATAO","MATIPID & MASIPAG","MALAMBING & MAUNAWAIN","MASIGLA & PAGKAKAISA","KATAPATAN & MAPAGKAWANGGAWA","KARANGALAN & MAALALAHANIN","MATULUNGIN & KAAYA-AYA","MAHUSAY & TAGUMPAY","MASINOP & MATALINO","MAYUMI & MAKISIG"],K2:["MAGALANG & MAGILIW","MAKA-DIYOS & MAPAGMAHAL","PAG-ASA & MABAIT","MAPAGKUMBABA & KAGALAKAN","MAPAGKAKATIWALAAN & MASIGASIG","MATIYAGA & MATAPAT","RESPONSABLE & MALIKHAIN","PAKAKAIBIGAN & MAPARAAN","MASIKAP & MAAGAP","KAALAMAN & KARUNUNGAN","MAKABAYAN"],1:["FL AM","PAKWAN","SUHA","SAMPALOK","LANGKA","MANGGA","PERAS","DALANDAN","KAIMITO","MANGOSTEEN","RAMBUTAN","DUHAT","LANZONES","POMELO","BLUEBERRY","KIWI","FL PM","MELON","MACOPA","BAYABAS","CHERRY","SAGING","DURIAN","KAHEL","KASOY","GUYABANO"],2:["FL NARRA","ACACIA","ALIBANGBANG","AMUGIS","APITONG","BANABA","KAMATSILE","KAMUNING","LANETE","MAHOGANY","PINO","TALISAY","TANGUILE","TIBIG","TOOG","MAYAPIS","NIPA","FL IGOS","KAMAGONG","ANONANG","CABALLERO","DAPDAP","GEMELINA","IPIL-IPIL","KALUMPIT","LAWAAN","MALUGAI","MULAWIN","MALABULAK","MOLAVE","OLIVA","TINDALO","YAKAL","ALMACIGA","BANI","AROMA"],3:["ST. MARY","ST. JOHN","ST. DOMINIC","ST. SEBASTIAN","ST. VINCENT","ST. AGNES","ST. MICHAEL","ST. CLEMENT","ST. RAPHAEL","ST. MARTIN","ST. HELENA","ST. MARK","ST. CLARE","ST. JOSEPH","ST. THOMAS","ST. EMMANUEL","ST. LUKE","ST. GABRIEL","ST. PAUL","ST. MATTHEW","ST. DAVID","ST. ANNE","ST. ROSE","ST. PATRICK","ST. CATHERINE","ST. THERESE","ST. ELIZABETH","ST. CASSIAN","ST. PHILOMENA","ST. FRANCIS","ST. BENEDICT"],4:["FL - AM","FL - PM","ROSE","ANTHURIUM","ASTER","BOUGAINVILLEA","LILAC","CARNATION","GLADIOLA","JASMINE","ILANG - ILANG","MARIGOLD","DAFFODIL","SUNFLOWER","YELLOWBELL","STARGAZER","HYACINTH","DAISY","EVERLASTING","WILDZINNIA","TULIPS","LAVENDER"],5:["FL AM","HOMO","CORAL","EMERALD","GOSHENITE","IDOCRASE","JASPER","MOONSTONE","PERIDOT","SAPPHIRE","YELLOW TOPAZ","TOURMALINE","FL PM","HOMO","APATITE","BLUE TOPAZ","CITRINE","DIAMOND","PEARL","RUBY","SARDONYX"],6:["FL AM JOSE RIZAL","E. JACINTO","E. AGUINALDO","F. DAGOHOY","MH. DEL PILAR","S. KUDARAT","M. PONCE","F. BALTAZAR","G. SILANG","FL PM - ANDRES BONIFACIO","P. URDUJA","G. DEL PILAR","D. SILANG","M. SAKAY","J. LUNA","JL. ESCODA","A. LUNA","M. GOMEZ","GL. JAENA","A. MABINI","V. LUCBAN"]};function Sr(e){if(!e&&e!==0)return"";let t=String(e).trim();return t=t.replace(/^"+|"+$/g,"").replace(/^'+|'+$/g,""),t=t.replace(/[\u2012\u2013\u2014\u2015]/g,"-"),t=t.replace(/[^\w\s&\.-]/g," "),t=t.replace(/\s+/g," ").trim(),t.toUpperCase()}const ud={I:1,II:2,III:3,IV:4,V:5,VI:6,VII:7};function sp(e){if(!e)return null;const t=String(e).trim().toUpperCase(),r=parseInt(t.replace(/\D/g,""),10);if(!isNaN(r)&&r>=1&&r<=12)return String(r);const n=t.replace(/[^IVXLCDM]/g,"");return n&&ud[n]?String(ud[n]):null}function B_(e){if(!e&&e!==0)return null;const t=String(e).trim();if(!t)return null;const r=t.match(/^\s*(K(?:1|2)?)\s*[-\s]?(.*)$/i);if(r){const o=r[1].toUpperCase(),l=Sr(r[2]||"");if(l){const u=(Tr.K1||[]).some(d=>Sr(d)===l),c=(Tr.K2||[]).some(d=>Sr(d)===l);if(u)return"K1";if(c)return"K2"}return/^K1$/i.test(o)?"K1":/^K2$/i.test(o)?"K2":"K1"}const n=t.match(/^\s*([0-9]{1,2})\s*[-\s]\s*(.*)$/);if(n){const o=parseInt(n[1],10);if(!isNaN(o))return String(o)}const s=t.match(/^\s*([IVXLCDM]+)\s*[-\s]\s*(.*)$/i);if(s){const o=sp(s[1]);if(o)return o}const i=t.match(/GRADE\s*([0-9]+)/i);if(i)return String(parseInt(i[1],10));const a=Sr(t);if(a){for(const o of Object.keys(Tr))if((Tr[o]||[]).some(l=>Sr(l)===a))return o}return null}function F_(e){if(!e&&e!==0)return"UNKNOWN - UNKNOWN";const t=String(e).trim();let r=null,n=t;if(t.includes("-")){const o=t.split(/[-\u2013\u2014]/).map(l=>l.trim()).filter(Boolean);o.length>=2&&(r=o[0],n=o.slice(1).join(" - "))}else{const o=t.split(/\s+/);o.length>1&&/^[0-9IVXLCDM]+$/i.test(o[0])&&(r=o[0],n=o.slice(1).join(" "))}const s=Sr(n);let i=B_(t);if(!i&&r){const o=sp(r);o&&(i=o)}if(!i&&s){for(const o of Object.keys(Tr))if((Tr[o]||[]).some(l=>Sr(l)===s)){i=o;break}}return i||(/^K\b/i.test(t)||/^K-/.test(t)?i="K1":i="UNKNOWN"),`${i} - ${s||"UNKNOWN"}`}function z_(e){return e?String(e).replace(/,/g," ").replace(/[^\w\s'-]/g,"").replace(/\s+/g," ").trim().toLowerCase().split(" ").filter(Boolean):[]}function cd(e){const t=z_(e);if(t.length===0)return[""];const r=t.join(" "),n=t[t.length-1],s=t[0],i=t.slice(0,2).join(" "),a=`${n} ${s}`,o=`${n} ${i}`,l=`${s} ${n}`;return[...new Set([r,a,o,l])]}function dd(e,t){if(!e||!t)return!1;const r=cd(e),n=cd(t);for(const s of r)for(const i of n){if(!s||!i)continue;if(s===i||s.includes(i)||i.includes(s))return!0;const a=s.split(" "),o=i.split(" ");if(a.filter(u=>o.includes(u)).length>=1)return!0}return!1}function W_(){const[e,t]=k.useState([]),[r,n]=k.useState({}),[s,i]=k.useState({}),[a,o]=k.useState([]),[l,u]=k.useState([]),[c,d]=k.useState(!0),[p,v]=k.useState(null),[y,w]=k.useState("K1"),[_,g]=k.useState(""),[f,m]=k.useState("All"),[S,x]=k.useState("All"),[E,T]=k.useState(null),[A,B]=k.useState("all"),[D,ke]=k.useState(0),Ye=U_(new Date,"yyyy-MM-dd"),Me="feeding_cache_v2",C=P=>{try{const R={ts:Date.now(),payload:P};sessionStorage.setItem(Me,JSON.stringify(R))}catch{}},J=(P=1e3*60*3)=>{try{const R=sessionStorage.getItem(Me);if(!R)return null;const G=JSON.parse(R);return!G||!G.ts||!G.payload||Date.now()-G.ts>P?null:G.payload}catch{return null}},Be=()=>sessionStorage.removeItem(Me),K=k.useCallback(async(P={useCache:!0})=>{if(d(!0),v(null),P.useCache){const R=J();if(R){t(R.studentsList||[]),n(R.studentsMap||{}),i(R.attendanceIndex||{}),o(R.sbfpDocs||[]),u(R.sbfpOnlyList||[]),d(!1);return}}try{const{data:R,error:G}=await tt.from("students").select("*");if(G)throw G;const Y=[],Lt={};R.forEach(V=>{const Oe=V.id,Re=(V.name||V.full_name||"").toString().trim(),hr=V.grade_section||V.grade||"",Ds=F_(hr),Dr={id:Oe,name:Re,sex:V.sex||"",gradeSection:Ds,raw:V,weight:V.weight??null,height:V.height??null,bmi:V.bmi??null,nutritionStatus:V.nutrition_status||"Unknown"};Y.push(Dr),Lt[Oe]=Dr});let $t=[];try{$t=[]}catch{$t=[]}const Ls=new Map,$s=new Set,Ae={},Qe=Y.reduce((V,Oe)=>{const Re=(Oe.name||"").toString().trim().toUpperCase();return V[Re]||(V[Re]=[]),V[Re].push(Oe),V},{});for(const V of $t){let Oe=null;const Re=(V.name||"").toString().trim().toUpperCase();if(Re&&Qe[Re]&&Qe[Re].length===1)Oe=Qe[Re][0];else for(const hr of Y)if(dd(hr.name,V.name)){if(hr.gradeSection===V.gradeSection){Oe=hr;break}Oe||(Oe=hr)}Oe&&(Ae[Oe.id]=V,$s.add(V.id))}const Xe=$t.filter(V=>!$s.has(V.id)),dr={};for(const V of teacherDocs.docs){const Oe=V.id;try{const Re=collection(db,"attendance",Oe,"dates");(await getDocs(Re)).forEach(Ds=>{const Dr=Ds.id,ya=Ds.data()||{},hu=ya.records&&typeof ya.records=="object"?ya.records:{};dr[Dr]||(dr[Dr]={}),Object.keys(hu).forEach(fu=>{const pu=hu[fu];typeof pu=="string"&&(dr[Dr][fu]=pu)})})}catch(Re){console.warn("Attendance parse error for teacher",Oe,Re)}}C({studentsList:Y,studentsMap:Lt,attendanceIndex:dr,sbfpDocs:$t,sbfpOnlyList:Xe}),t(Y),n(Lt),i(dr),o($t),u(Xe),d(!1)}catch(R){console.error("Feeding fetch failed:",R),v("Failed to fetch feeding data. Try refresh or check rules."),d(!1)}},[D]);k.useEffect(()=>{K({useCache:!0})},[K,D]);const O=()=>{Be(),ke(P=>P+1),K({useCache:!1})},$=k.useMemo(()=>{const P=e.map(R=>{const G=a.find(Y=>dd(R.name,Y.name));return G?{...R,gradeSection:G.gradeSection||R.gradeSection,sbfpId:G.id,sbfpRaw:G,nutritionStatus:G.nutritionStatus||R.nutritionStatus,bmi:G.bmi??R.bmi,weight:G.weightKg??R.weight,height:G.height??R.height}:R});if(A==="sbfp"){const R=P.filter(Y=>Y.sbfpId),G=l.map(Y=>({id:`sbfp-${Y.id}`,name:Y.name,sex:Y.sex||"",gradeSection:Y.gradeSection,nutritionStatus:Y.nutritionStatus||"Unknown",bmi:Y.bmi??null,weight:Y.weightKg??null,height:Y.height??null,sbfpOnly:!0,sbfpRaw:Y}));return[...R,...G]}return P},[e,a,l,A]),{summary:U,filteredStudents:Z}=k.useMemo(()=>{const P=y,R=$.filter(Ae=>{const Xe=(Ae.gradeSection||"").toUpperCase().split(" - ")[0].trim();return P.startsWith("K")?P==="K1"?Xe==="K1"||Xe==="K":P==="K2"?Xe==="K2":Xe.startsWith("K"):Xe===P||Xe===`GRADE ${P}`||Xe===`${P}`}),G=R.length,Y=s[Ye]||{};let Lt=0;R.forEach(Ae=>{(Y[Ae.id]==="Present"||Ae.sbfpRaw&&Y[Ae.sbfpRaw.id]==="Present"||Y[String(Ae.id)]==="Present")&&Lt++});const $t=Math.max(0,G-Lt),Ls={};R.forEach(Ae=>{const Qe=(Ae.nutritionStatus||"Unknown").toString();Ls[Qe]=(Ls[Qe]||0)+1});const $s=R.filter(Ae=>{if(f!=="All"&&((Ae.gradeSection||"").split(" - ")[1]||"").toUpperCase()!==f.toUpperCase()||S!=="All"&&(Ae.nutritionStatus||"Unknown").toUpperCase()!==S.toUpperCase())return!1;if(_&&_.trim().length>0){const Qe=_.trim().toLowerCase(),Xe=(Ae.name||"").toLowerCase().includes(Qe),dr=(Ae.gradeSection||"").toLowerCase().includes(Qe);if(!Xe&&!dr)return!1}return!0});return{summary:{total:G,present:Lt,absent:$t,pct:G?(Lt/G*100).toFixed(1):"0.0",statusCounts:Ls},filteredStudents:$s}},[$,s,Ye,y,f,S,_]);function ue({s:P}){return h.jsxs("div",{className:"summary-row",children:[h.jsxs("div",{className:"summary-card",children:[h.jsx("div",{className:"card-title",children:"Total Students"}),h.jsx("div",{className:"card-value",children:P.total})]}),h.jsxs("div",{className:"summary-card",children:[h.jsx("div",{className:"card-title",children:"Present Today"}),h.jsx("div",{className:"card-value",children:P.present})]}),h.jsxs("div",{className:"summary-card",children:[h.jsx("div",{className:"card-title",children:"Absent Today"}),h.jsx("div",{className:"card-value",children:P.absent})]}),h.jsxs("div",{className:"summary-card",children:[h.jsx("div",{className:"card-title",children:"Attendance %"}),h.jsxs("div",{className:"card-value",children:[P.pct,"%"]})]}),h.jsxs("div",{className:"summary-card status-chip",children:[h.jsx("div",{className:"card-title",children:"Nutrition"}),h.jsx("div",{className:"card-value small",children:Object.keys(P.statusCounts).slice(0,5).map(R=>h.jsxs("span",{className:"status-pill",children:[R,": ",P.statusCounts[R]]},R))})]})]})}const $r=[{key:"K1",label:"K1",tip:"Kinder 1"},{key:"K2",label:"K2",tip:"Kinder 2"},{key:"1",label:"G1",tip:"Grade 1"},{key:"2",label:"G2",tip:"Grade 2"},{key:"3",label:"G3",tip:"Grade 3"},{key:"4",label:"G4",tip:"Grade 4"},{key:"5",label:"G5",tip:"Grade 5"},{key:"6",label:"G6",tip:"Grade 6"}];function kt(){return h.jsx("div",{className:"tab-row",children:$r.map(P=>h.jsx("button",{title:P.tip,className:`tab-btn ${y===P.key?"active-tab":""}`,onClick:()=>{w(P.key),m("All"),x("All"),g("")},children:P.label},P.key))})}function Nn({rows:P}){return h.jsx("div",{className:"table-card",children:h.jsxs("table",{className:"people-table attendance-table",children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Grade & Section"}),h.jsx("th",{children:"Nutrition Status"}),h.jsx("th",{children:"BMI"}),h.jsx("th",{children:"Present"}),h.jsx("th",{children:"Actions"})]})}),h.jsx("tbody",{children:P.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"py-6 text-center italic",children:"No students found"})}):P.map(R=>{const G=(s[Ye]||{})[R.id]==="Present",Y=R.bmi??"-";return h.jsxs("tr",{className:"hover:bg-gray-50",children:[h.jsx("td",{className:"px-4 py-3",children:R.name}),h.jsx("td",{className:"px-4 py-3",children:R.gradeSection}),h.jsx("td",{className:"px-4 py-3",children:R.nutritionStatus||"Unknown"}),h.jsx("td",{className:"px-4 py-3",children:Y}),h.jsx("td",{className:"px-4 py-3 text-center",children:G?"Present":"Absent"}),h.jsx("td",{className:"px-4 py-3 text-center",children:h.jsx("button",{className:"btn small",onClick:()=>T(R.id),children:"View"})})]},R.id)})})]})})}return h.jsxs("div",{className:"feeding-nutrition-page",children:[h.jsxs("div",{className:"meal-banner card-fullwidth",children:[h.jsxs("div",{className:"meal-left",children:[h.jsx("h2",{className:"meal-title",children:" Meal for Today"}),h.jsx("h3",{className:"meal-name",children:"Rotating Menu  Placeholder"}),h.jsx("p",{className:"meal-desc",children:"Chicken adobo, brown rice, mixed vegetables (placeholder)"}),h.jsxs("div",{className:"meal-meta",children:["Date: ",Ye]})]}),h.jsx("div",{className:"meal-right",children:h.jsx("div",{className:"meal-img-placeholder",children:"Image"})})]}),h.jsxs("div",{className:"view-toggle-row",children:[h.jsxs("div",{className:"view-toggle",children:[h.jsx("button",{className:`pill ${A==="all"?"active":""}`,onClick:()=>B("all"),children:"All Students"}),h.jsx("button",{className:`pill ${A==="sbfp"?"active":""}`,onClick:()=>B("sbfp"),children:"SBFP Only"})]}),h.jsx("div",{style:{marginLeft:12},children:h.jsx("button",{className:"btn small",onClick:()=>{Be(),ke(P=>P+1)},children:"Refresh (clear cache)"})})]}),h.jsxs("div",{className:"filter-bar",children:[h.jsx("div",{className:"filter-item",children:h.jsx("input",{placeholder:"Search name or section...",value:_,onChange:P=>g(P.target.value),className:"filter-input"})}),h.jsx("div",{className:"filter-item",children:h.jsxs("select",{className:"filter-select",value:f,onChange:P=>m(P.target.value),children:[h.jsx("option",{value:"All",children:"All Sections"}),(Tr[y]||[]).map(P=>h.jsx("option",{value:P,children:P},P))]})}),h.jsx("div",{className:"filter-item",children:h.jsxs("select",{className:"filter-select",value:S,onChange:P=>x(P.target.value),children:[h.jsx("option",{value:"All",children:"All Nutrition Status"}),h.jsx("option",{value:"Normal",children:"Normal"}),h.jsx("option",{value:"Stunted",children:"Stunted"}),h.jsx("option",{value:"Overweight",children:"Overweight"}),h.jsx("option",{value:"Obese",children:"Obese"}),h.jsx("option",{value:"Wasted",children:"Wasted"})]})}),h.jsx("div",{className:"filter-item",children:h.jsx("button",{className:"btn-apply-filter",onClick:()=>{},children:"Apply"})})]}),h.jsx(kt,{}),h.jsx("div",{style:{marginTop:12},children:c?h.jsxs("div",{style:{padding:24},children:[h.jsx("div",{style:{background:"#f3f4f6",height:18,width:220,marginBottom:8}}),h.jsx("div",{style:{background:"#f3f4f6",height:14,width:120,marginBottom:12}}),h.jsx("div",{style:{background:"#f3f4f6",height:300}})]}):p?h.jsxs("div",{style:{padding:24},children:[h.jsx("div",{style:{color:"crimson",marginBottom:12},children:p}),h.jsx("button",{className:"btn add",onClick:O,children:"Retry"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ue,{s:U}),h.jsx(Nn,{rows:Z})]})}),E&&(()=>{const P=r[E]||Z.find(R=>R.id===E)||null;return P?h.jsx("div",{className:"modal-overlay",onClick:()=>T(null),children:h.jsxs("div",{className:"modal-card",onClick:R=>R.stopPropagation(),children:[h.jsxs("div",{className:"modal-header",children:[h.jsx("h3",{children:P.name}),h.jsx("button",{className:"close-btn",onClick:()=>T(null),children:h.jsx(N0,{size:18})})]}),h.jsxs("div",{className:"modal-body",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Grade & Section:"})," ",P.gradeSection]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Nutrition Status:"})," ",P.nutritionStatus]}),h.jsxs("p",{children:[h.jsx("strong",{children:"BMI:"})," ",P.bmi??"-"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Weight:"})," ",P.weight??"-"," kg"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Height:"})," ",P.height??"-"," m"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Sex:"})," ",P.sex??"-"]}),P.sbfpOnly&&h.jsx("p",{style:{color:"#666",marginTop:8},children:"This entry is from SBFP import and has no matched student doc."})]})]})}):null})()]})}const K_=[{name:"Juan Dela Cruz",gradeSection:"5 - DIAMOND",status:"Normal",bmi:17.4,presentDays:18,absentDays:2},{name:"Maria Santos",gradeSection:"4 - ROSE",status:"Overweight",bmi:22.1,presentDays:16,absentDays:4},{name:"Pedro Ramirez",gradeSection:"3 - ST. JOHN",status:"Severely Wasted",bmi:12.4,presentDays:12,absentDays:8},{name:"Angela Reyes",gradeSection:"1 - LANGKA",status:"Wasted",bmi:13.9,presentDays:20,absentDays:3},{name:"Mark Villanueva",gradeSection:"6 - A. MABINI",status:"Obese",bmi:25.3,presentDays:14,absentDays:6},{name:"Hannah Cruz",gradeSection:"2 - ACACIA",status:"Normal",bmi:16.2,presentDays:22,absentDays:1},{name:"Kyle Mendoza",gradeSection:"5 - RUBY",status:"Normal",bmi:18.7,presentDays:19,absentDays:3},{name:"Sofia Bernardino",gradeSection:"3 - ST. PAUL",status:"Overweight",bmi:20.5,presentDays:17,absentDays:5},{name:"Jasper Flores",gradeSection:"4 - CARNATION",status:"Normal",bmi:17.9,presentDays:21,absentDays:2},{name:"Cheska Lim",gradeSection:"1 - GUYABANO",status:"Wasted",bmi:14.1,presentDays:15,absentDays:6}],V_=["All Grades","K1","K2","1","2","3","4","5","6"],G_=["All Status","Normal","Wasted","Severely Wasted","Obese","Overweight"];function H_(){const[e,t]=k.useState("All Grades"),[r,n]=k.useState("All Status"),s=k.useMemo(()=>{let a=[...K_];return e!=="All Grades"&&(a=a.filter(o=>o.gradeSection.startsWith(e))),r!=="All Status"&&(a=a.filter(o=>o.status.toLowerCase()===r.toLowerCase())),a},[e,r]),i=k.useMemo(()=>({total:s.length,normal:s.filter(a=>a.status==="Normal").length,wasted:s.filter(a=>a.status==="Wasted").length,severelyWasted:s.filter(a=>a.status==="Severely Wasted").length,overweight:s.filter(a=>a.status==="Overweight").length,obese:s.filter(a=>a.status==="Obese").length}),[s]);return h.jsxs("div",{className:"reports-wrapper",children:[h.jsx("h2",{className:"reports-title",children:"Reports & Analytics"}),h.jsxs("div",{className:"reports-filters",children:[h.jsx("select",{value:e,onChange:a=>t(a.target.value),children:V_.map(a=>h.jsx("option",{children:a},a))}),h.jsx("select",{value:r,onChange:a=>n(a.target.value),children:G_.map(a=>h.jsx("option",{children:a},a))}),h.jsx("button",{className:"export-btn",children:"Export CSV"})]}),h.jsxs("div",{className:"reports-summary",children:[h.jsxs("div",{className:"summary-card",children:["Total: ",i.total]}),h.jsxs("div",{className:"summary-card",children:["Normal: ",i.normal]}),h.jsxs("div",{className:"summary-card",children:["Wasted: ",i.wasted]}),h.jsxs("div",{className:"summary-card",children:["Severely Wasted: ",i.severelyWasted]}),h.jsxs("div",{className:"summary-card",children:["Overweight: ",i.overweight]}),h.jsxs("div",{className:"summary-card",children:["Obese: ",i.obese]})]}),h.jsx("div",{className:"reports-table",children:h.jsxs("table",{children:[h.jsx("thead",{children:h.jsxs("tr",{children:[h.jsx("th",{children:"Name"}),h.jsx("th",{children:"Grade & Section"}),h.jsx("th",{children:"Status"}),h.jsx("th",{children:"BMI"}),h.jsx("th",{children:"Present"}),h.jsx("th",{children:"Absent"})]})}),h.jsx("tbody",{children:s.length===0?h.jsx("tr",{children:h.jsx("td",{colSpan:"6",className:"empty",children:"No results found"})}):s.map(a=>h.jsxs("tr",{children:[h.jsx("td",{children:a.name}),h.jsx("td",{children:a.gradeSection}),h.jsx("td",{children:a.status}),h.jsx("td",{children:a.bmi}),h.jsx("td",{children:a.presentDays}),h.jsx("td",{children:a.absentDays})]},a.id))})]})})]})}function q_(){const e=Cn(),t=ha(),r=async()=>{const{error:n}=await tt.auth.signOut();if(n){console.error("Logout failed:",n.message);return}console.log("User signed out successfully"),t("/")};return h.jsxs("aside",{className:"sidebar",children:[h.jsxs("div",{className:"brand",children:[h.jsx("div",{className:"logo-circle",children:"NC"}),h.jsxs("div",{className:"brand-text",children:[h.jsx("div",{className:"brand-title",children:"NutriCare"}),h.jsx("small",{className:"brand-sub",children:"Admin"})]})]}),h.jsxs("nav",{className:"nav",children:[h.jsx(ti,{to:"/dashboard",className:e.pathname==="/dashboard"?"active":"",children:"Dashboard"}),h.jsx(ti,{to:"/management",className:e.pathname==="/management"?"active":"",children:"Student & Teacher"}),h.jsx(ti,{to:"/feeding",className:e.pathname==="/feeding"?"active":"",children:"Feeding & Nutrition"}),h.jsx(ti,{to:"/reports",className:e.pathname==="/reports"?"active":"",children:"Reports"}),h.jsx("button",{onClick:r,className:"logout-btn",children:"Logout"})]})]})}function ai({children:e}){return h.jsxs("div",{className:"layout",children:[h.jsx(q_,{}),h.jsx("main",{className:"main-content",children:e})]})}function oi({children:e}){const[t,r]=k.useState(!0),[n,s]=k.useState(null);return k.useEffect(()=>{(async()=>{const{data:{session:a}}=await tt.auth.getSession();s(a),r(!1)})()},[]),t?h.jsx("div",{style:{textAlign:"center",marginTop:"50px"},children:"Checking authentication..."}):n?e:h.jsx(xv,{to:"/",replace:!0})}function J_(){return h.jsx(Rv,{children:h.jsxs(Tv,{children:[h.jsx(Gr,{path:"/",element:h.jsx(v0,{})}),h.jsx(Gr,{path:"/dashboard",element:h.jsx(oi,{children:h.jsx(ai,{children:h.jsx(P0,{})})})}),h.jsx(Gr,{path:"/management",element:h.jsx(oi,{children:h.jsx(ai,{children:h.jsx(j0,{})})})}),h.jsx(Gr,{path:"/feeding",element:h.jsx(oi,{children:h.jsx(ai,{children:h.jsx(W_,{})})})}),h.jsx(Gr,{path:"/reports",element:h.jsx(oi,{children:h.jsx(ai,{children:h.jsx(H_,{})})})})]})})}bf(document.getElementById("root")).render(h.jsx(J_,{}));
